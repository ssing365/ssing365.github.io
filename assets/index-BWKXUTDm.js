(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var Za={exports:{}},Oi={},eu={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function Sv(){if(Ih)return te;Ih=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),v=Symbol.iterator;function y(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function O(S,A,ee){this.props=S,this.context=A,this.refs=P,this.updater=ee||T}O.prototype.isReactComponent={},O.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function b(){}b.prototype=O.prototype;function U(S,A,ee){this.props=S,this.context=A,this.refs=P,this.updater=ee||T}var Z=U.prototype=new b;Z.constructor=U,R(Z,O.prototype),Z.isPureReactComponent=!0;var ie=Array.isArray,me=Object.prototype.hasOwnProperty,Ne={current:null},Ie={key:!0,ref:!0,__self:!0,__source:!0};function Fe(S,A,ee){var se,ae={},ue=null,ge=null;if(A!=null)for(se in A.ref!==void 0&&(ge=A.ref),A.key!==void 0&&(ue=""+A.key),A)me.call(A,se)&&!Ie.hasOwnProperty(se)&&(ae[se]=A[se]);var fe=arguments.length-2;if(fe===1)ae.children=ee;else if(1<fe){for(var Se=Array(fe),gt=0;gt<fe;gt++)Se[gt]=arguments[gt+2];ae.children=Se}if(S&&S.defaultProps)for(se in fe=S.defaultProps,fe)ae[se]===void 0&&(ae[se]=fe[se]);return{$$typeof:i,type:S,key:ue,ref:ge,props:ae,_owner:Ne.current}}function Pe(S,A){return{$$typeof:i,type:S.type,key:A,ref:S.ref,props:S.props,_owner:S._owner}}function je(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function Ut(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ee){return A[ee]})}var Bt=/\/+/g;function mt(S,A){return typeof S=="object"&&S!==null&&S.key!=null?Ut(""+S.key):A.toString(36)}function Rt(S,A,ee,se,ae){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var ge=!1;if(S===null)ge=!0;else switch(ue){case"string":case"number":ge=!0;break;case"object":switch(S.$$typeof){case i:case t:ge=!0}}if(ge)return ge=S,ae=ae(ge),S=se===""?"."+mt(ge,0):se,ie(ae)?(ee="",S!=null&&(ee=S.replace(Bt,"$&/")+"/"),Rt(ae,A,ee,"",function(gt){return gt})):ae!=null&&(je(ae)&&(ae=Pe(ae,ee+(!ae.key||ge&&ge.key===ae.key?"":(""+ae.key).replace(Bt,"$&/")+"/")+S)),A.push(ae)),1;if(ge=0,se=se===""?".":se+":",ie(S))for(var fe=0;fe<S.length;fe++){ue=S[fe];var Se=se+mt(ue,fe);ge+=Rt(ue,A,ee,Se,ae)}else if(Se=y(S),typeof Se=="function")for(S=Se.call(S),fe=0;!(ue=S.next()).done;)ue=ue.value,Se=se+mt(ue,fe++),ge+=Rt(ue,A,ee,Se,ae);else if(ue==="object")throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ge}function jt(S,A,ee){if(S==null)return S;var se=[],ae=0;return Rt(S,se,"","",function(ue){return A.call(ee,ue,ae++)}),se}function it(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(ee){(S._status===0||S._status===-1)&&(S._status=1,S._result=ee)},function(ee){(S._status===0||S._status===-1)&&(S._status=2,S._result=ee)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var De={current:null},B={transition:null},q={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:B,ReactCurrentOwner:Ne};function $(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:jt,forEach:function(S,A,ee){jt(S,function(){A.apply(this,arguments)},ee)},count:function(S){var A=0;return jt(S,function(){A++}),A},toArray:function(S){return jt(S,function(A){return A})||[]},only:function(S){if(!je(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},te.Component=O,te.Fragment=r,te.Profiler=l,te.PureComponent=U,te.StrictMode=o,te.Suspense=p,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,te.act=$,te.cloneElement=function(S,A,ee){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=R({},S.props),ae=S.key,ue=S.ref,ge=S._owner;if(A!=null){if(A.ref!==void 0&&(ue=A.ref,ge=Ne.current),A.key!==void 0&&(ae=""+A.key),S.type&&S.type.defaultProps)var fe=S.type.defaultProps;for(Se in A)me.call(A,Se)&&!Ie.hasOwnProperty(Se)&&(se[Se]=A[Se]===void 0&&fe!==void 0?fe[Se]:A[Se])}var Se=arguments.length-2;if(Se===1)se.children=ee;else if(1<Se){fe=Array(Se);for(var gt=0;gt<Se;gt++)fe[gt]=arguments[gt+2];se.children=fe}return{$$typeof:i,type:S.type,key:ae,ref:ue,props:se,_owner:ge}},te.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},te.createElement=Fe,te.createFactory=function(S){var A=Fe.bind(null,S);return A.type=S,A},te.createRef=function(){return{current:null}},te.forwardRef=function(S){return{$$typeof:h,render:S}},te.isValidElement=je,te.lazy=function(S){return{$$typeof:w,_payload:{_status:-1,_result:S},_init:it}},te.memo=function(S,A){return{$$typeof:g,type:S,compare:A===void 0?null:A}},te.startTransition=function(S){var A=B.transition;B.transition={};try{S()}finally{B.transition=A}},te.unstable_act=$,te.useCallback=function(S,A){return De.current.useCallback(S,A)},te.useContext=function(S){return De.current.useContext(S)},te.useDebugValue=function(){},te.useDeferredValue=function(S){return De.current.useDeferredValue(S)},te.useEffect=function(S,A){return De.current.useEffect(S,A)},te.useId=function(){return De.current.useId()},te.useImperativeHandle=function(S,A,ee){return De.current.useImperativeHandle(S,A,ee)},te.useInsertionEffect=function(S,A){return De.current.useInsertionEffect(S,A)},te.useLayoutEffect=function(S,A){return De.current.useLayoutEffect(S,A)},te.useMemo=function(S,A){return De.current.useMemo(S,A)},te.useReducer=function(S,A,ee){return De.current.useReducer(S,A,ee)},te.useRef=function(S){return De.current.useRef(S)},te.useState=function(S){return De.current.useState(S)},te.useSyncExternalStore=function(S,A,ee){return De.current.useSyncExternalStore(S,A,ee)},te.useTransition=function(){return De.current.useTransition()},te.version="18.3.1",te}var xh;function Wu(){return xh||(xh=1,eu.exports=Sv()),eu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function kv(){if(Th)return Oi;Th=1;var i=Wu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var w,v={},y=null,T=null;g!==void 0&&(y=""+g),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(T=p.ref);for(w in p)o.call(p,w)&&!u.hasOwnProperty(w)&&(v[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)v[w]===void 0&&(v[w]=p[w]);return{$$typeof:t,type:h,key:y,ref:T,props:v,_owner:l.current}}return Oi.Fragment=r,Oi.jsx=d,Oi.jsxs=d,Oi}var Rh;function Iv(){return Rh||(Rh=1,Za.exports=kv()),Za.exports}var Y=Iv(),So={},tu={exports:{}},ct={},nu={exports:{}},ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function xv(){return Nh||(Nh=1,function(i){function t(B,q){var $=B.length;B.push(q);e:for(;0<$;){var S=$-1>>>1,A=B[S];if(0<l(A,q))B[S]=q,B[$]=A,$=S;else break e}}function r(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var q=B[0],$=B.pop();if($!==q){B[0]=$;e:for(var S=0,A=B.length,ee=A>>>1;S<ee;){var se=2*(S+1)-1,ae=B[se],ue=se+1,ge=B[ue];if(0>l(ae,$))ue<A&&0>l(ge,ae)?(B[S]=ge,B[ue]=$,S=ue):(B[S]=ae,B[se]=$,S=se);else if(ue<A&&0>l(ge,$))B[S]=ge,B[ue]=$,S=ue;else break e}}return q}function l(B,q){var $=B.sortIndex-q.sortIndex;return $!==0?$:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var p=[],g=[],w=1,v=null,y=3,T=!1,R=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(B){for(var q=r(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=B)o(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=r(g)}}function ie(B){if(P=!1,Z(B),!R)if(r(p)!==null)R=!0,it(me);else{var q=r(g);q!==null&&De(ie,q.startTime-B)}}function me(B,q){R=!1,P&&(P=!1,b(Fe),Fe=-1),T=!0;var $=y;try{for(Z(q),v=r(p);v!==null&&(!(v.expirationTime>q)||B&&!Ut());){var S=v.callback;if(typeof S=="function"){v.callback=null,y=v.priorityLevel;var A=S(v.expirationTime<=q);q=i.unstable_now(),typeof A=="function"?v.callback=A:v===r(p)&&o(p),Z(q)}else o(p);v=r(p)}if(v!==null)var ee=!0;else{var se=r(g);se!==null&&De(ie,se.startTime-q),ee=!1}return ee}finally{v=null,y=$,T=!1}}var Ne=!1,Ie=null,Fe=-1,Pe=5,je=-1;function Ut(){return!(i.unstable_now()-je<Pe)}function Bt(){if(Ie!==null){var B=i.unstable_now();je=B;var q=!0;try{q=Ie(!0,B)}finally{q?mt():(Ne=!1,Ie=null)}}else Ne=!1}var mt;if(typeof U=="function")mt=function(){U(Bt)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,jt=Rt.port2;Rt.port1.onmessage=Bt,mt=function(){jt.postMessage(null)}}else mt=function(){O(Bt,0)};function it(B){Ie=B,Ne||(Ne=!0,mt())}function De(B,q){Fe=O(function(){B(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){R||T||(R=!0,it(me))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(B){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return B()}finally{y=$}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=y;y=B;try{return q()}finally{y=$}},i.unstable_scheduleCallback=function(B,q,$){var S=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?S+$:S):$=S,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=$+A,B={id:w++,callback:q,priorityLevel:B,startTime:$,expirationTime:A,sortIndex:-1},$>S?(B.sortIndex=$,t(g,B),r(p)===null&&B===r(g)&&(P?(b(Fe),Fe=-1):P=!0,De(ie,$-S))):(B.sortIndex=A,t(p,B),R||T||(R=!0,it(me))),B},i.unstable_shouldYield=Ut,i.unstable_wrapCallback=function(B){var q=y;return function(){var $=y;y=q;try{return B.apply(this,arguments)}finally{y=$}}}}(ru)),ru}var Ph;function Tv(){return Ph||(Ph=1,nu.exports=xv()),nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function Rv(){if(Dh)return ct;Dh=1;var i=Wu(),t=Tv();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},v={};function y(e){return p.call(v,e)?!0:p.call(w,e)?!1:g.test(e)?v[e]=!0:(w[e]=!0,!1)}function T(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,n,s,a){if(n===null||typeof n>"u"||T(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function P(e,n,s,a,c,f,m){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=m}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];O[n]=new P(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(b,U);O[n]=new P(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(b,U);O[n]=new P(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(b,U);O[n]=new P(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z(e,n,s,a){var c=O.hasOwnProperty(n)?O[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(R(n,s,c,a)&&(s=null),a||c===null?y(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var ie=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),Ie=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Ut=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),B=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,S;function A(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var ee=!1;function se(e,n){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var a=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){a=x}e.call(n.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=a.stack.split(`
`),m=c.length-1,_=f.length-1;1<=m&&0<=_&&c[m]!==f[_];)_--;for(;1<=m&&0<=_;m--,_--)if(c[m]!==f[_]){if(m!==1||_!==1)do if(m--,_--,0>_||c[m]!==f[_]){var E=`
`+c[m].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=m&&0<=_);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?A(e):""}function ae(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ie:return"Fragment";case Ne:return"Portal";case Pe:return"Profiler";case Fe:return"StrictMode";case mt:return"Suspense";case Rt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ut:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jt:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case it:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gt(e){var n=Se(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function fs(e){e._valueTracker||(e._valueTracker=gt(e))}function Pc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=Se(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ol(e,n){var s=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Dc(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=fe(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ac(e,n){n=n.checked,n!=null&&Z(e,"checked",n,!1)}function ll(e,n){Ac(e,n);var s=fe(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?al(e,n.type,s):n.hasOwnProperty("defaultValue")&&al(e,n.type,fe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Lc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function al(e,n,s){(n!=="number"||hs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Yr=Array.isArray;function ar(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+fe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function ul(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Yr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:fe(s)}}function Mc(e,n){var s=fe(n.value),a=fe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Fc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?zc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function qr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rg=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Rg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xr[n]=Xr[e]})});function Uc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+n).trim():n+"px"}function Bc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Uc(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var Ng=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dl(e,n){if(n){if(Ng[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function fl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hl=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,ur=null,cr=null;function jc(e){if(e=yi(e)){if(typeof ml!="function")throw Error(r(280));var n=e.stateNode;n&&(n=zs(n),ml(e.stateNode,e.type,n))}}function Wc(e){ur?cr?cr.push(e):cr=[e]:ur=e}function $c(){if(ur){var e=ur,n=cr;if(cr=ur=null,jc(e),n)for(e=0;e<n.length;e++)jc(n[e])}}function Hc(e,n){return e(n)}function Vc(){}var gl=!1;function Qc(e,n,s){if(gl)return e(n,s);gl=!0;try{return Hc(e,n,s)}finally{gl=!1,(ur!==null||cr!==null)&&(Vc(),$c())}}function Jr(e,n){var s=e.stateNode;if(s===null)return null;var a=zs(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var _l=!1;if(h)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{_l=!1}function Pg(e,n,s,a,c,f,m,_,E){var x=Array.prototype.slice.call(arguments,3);try{n.apply(s,x)}catch(L){this.onError(L)}}var ei=!1,ms=null,gs=!1,vl=null,Dg={onError:function(e){ei=!0,ms=e}};function Ag(e,n,s,a,c,f,m,_,E){ei=!1,ms=null,Pg.apply(Dg,arguments)}function Lg(e,n,s,a,c,f,m,_,E){if(Ag.apply(this,arguments),ei){if(ei){var x=ms;ei=!1,ms=null}else throw Error(r(198));gs||(gs=!0,vl=x)}}function Un(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Gc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Kc(e){if(Un(e)!==e)throw Error(r(188))}function Og(e){var n=e.alternate;if(!n){if(n=Un(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return Kc(c),e;if(f===a)return Kc(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==a.return)s=c,a=f;else{for(var m=!1,_=c.child;_;){if(_===s){m=!0,s=c,a=f;break}if(_===a){m=!0,a=c,s=f;break}_=_.sibling}if(!m){for(_=f.child;_;){if(_===s){m=!0,s=f,a=c;break}if(_===a){m=!0,a=f,s=c;break}_=_.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Yc(e){return e=Og(e),e!==null?qc(e):null}function qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=qc(e);if(n!==null)return n;e=e.sibling}return null}var Xc=t.unstable_scheduleCallback,Jc=t.unstable_cancelCallback,Mg=t.unstable_shouldYield,Fg=t.unstable_requestPaint,Oe=t.unstable_now,zg=t.unstable_getCurrentPriorityLevel,yl=t.unstable_ImmediatePriority,Zc=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,bg=t.unstable_LowPriority,ed=t.unstable_IdlePriority,vs=null,Wt=null;function Ug(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(vs,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Wg,Bg=Math.log,jg=Math.LN2;function Wg(e){return e>>>=0,e===0?32:31-(Bg(e)/jg|0)|0}var ys=64,ws=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,m=s&268435455;if(m!==0){var _=m&~c;_!==0?a=ti(_):(f&=m,f!==0&&(a=ti(f)))}else m=s&~c,m!==0?a=ti(m):f!==0&&(a=ti(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Nt(n),c=1<<s,a|=e[s],n&=~c;return a}function $g(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hg(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var m=31-Nt(f),_=1<<m,E=c[m];E===-1?(!(_&s)||_&a)&&(c[m]=$g(_,n)):E<=n&&(e.expiredLanes|=_),f&=~_}}function wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function td(){var e=ys;return ys<<=1,!(ys&4194240)&&(ys=64),e}function El(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ni(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Nt(n),e[n]=s}function Vg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Nt(s),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~f}}function Cl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Nt(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var he=0;function nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rd,Sl,id,sd,od,kl=!1,Cs=[],fn=null,hn=null,pn=null,ri=new Map,ii=new Map,mn=[],Qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(e,n){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":ri.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(n.pointerId)}}function si(e,n,s,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=yi(n),n!==null&&Sl(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Gg(e,n,s,a,c){switch(n){case"focusin":return fn=si(fn,e,n,s,a,c),!0;case"dragenter":return hn=si(hn,e,n,s,a,c),!0;case"mouseover":return pn=si(pn,e,n,s,a,c),!0;case"pointerover":var f=c.pointerId;return ri.set(f,si(ri.get(f)||null,e,n,s,a,c)),!0;case"gotpointercapture":return f=c.pointerId,ii.set(f,si(ii.get(f)||null,e,n,s,a,c)),!0}return!1}function ad(e){var n=Bn(e.target);if(n!==null){var s=Un(n);if(s!==null){if(n=s.tag,n===13){if(n=Gc(s),n!==null){e.blockedOn=n,od(e.priority,function(){id(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=xl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);hl=a,s.target.dispatchEvent(a),hl=null}else return n=yi(s),n!==null&&Sl(n),e.blockedOn=s,!1;n.shift()}return!0}function ud(e,n,s){Ss(e)&&s.delete(n)}function Kg(){kl=!1,fn!==null&&Ss(fn)&&(fn=null),hn!==null&&Ss(hn)&&(hn=null),pn!==null&&Ss(pn)&&(pn=null),ri.forEach(ud),ii.forEach(ud)}function oi(e,n){e.blockedOn===n&&(e.blockedOn=null,kl||(kl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Kg)))}function li(e){function n(c){return oi(c,e)}if(0<Cs.length){oi(Cs[0],e);for(var s=1;s<Cs.length;s++){var a=Cs[s];a.blockedOn===e&&(a.blockedOn=null)}}for(fn!==null&&oi(fn,e),hn!==null&&oi(hn,e),pn!==null&&oi(pn,e),ri.forEach(n),ii.forEach(n),s=0;s<mn.length;s++)a=mn[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<mn.length&&(s=mn[0],s.blockedOn===null);)ad(s),s.blockedOn===null&&mn.shift()}var dr=ie.ReactCurrentBatchConfig,ks=!0;function Yg(e,n,s,a){var c=he,f=dr.transition;dr.transition=null;try{he=1,Il(e,n,s,a)}finally{he=c,dr.transition=f}}function qg(e,n,s,a){var c=he,f=dr.transition;dr.transition=null;try{he=4,Il(e,n,s,a)}finally{he=c,dr.transition=f}}function Il(e,n,s,a){if(ks){var c=xl(e,n,s,a);if(c===null)$l(e,n,a,Is,s),ld(e,a);else if(Gg(c,e,n,s,a))a.stopPropagation();else if(ld(e,a),n&4&&-1<Qg.indexOf(e)){for(;c!==null;){var f=yi(c);if(f!==null&&rd(f),f=xl(e,n,s,a),f===null&&$l(e,n,a,Is,s),f===c)break;c=f}c!==null&&a.stopPropagation()}else $l(e,n,a,null,s)}}var Is=null;function xl(e,n,s,a){if(Is=null,e=pl(a),e=Bn(e),e!==null)if(n=Un(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Gc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Is=e,null}function cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case yl:return 1;case Zc:return 4;case _s:case bg:return 16;case ed:return 536870912;default:return 16}default:return 16}}var gn=null,Tl=null,xs=null;function dd(){if(xs)return xs;var e,n=Tl,s=n.length,a,c="value"in gn?gn.value:gn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var m=s-e;for(a=1;a<=m&&n[s-a]===c[f-a];a++);return xs=c.slice(e,1<a?1-a:void 0)}function Ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function fd(){return!1}function _t(e){function n(s,a,c,f,m){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Rs:fd,this.isPropagationStopped=fd,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),n}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=_t(fr),ai=$({},fr,{view:0,detail:0}),Xg=_t(ai),Nl,Pl,ui,Ns=$({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Nl=e.screenX-ui.screenX,Pl=e.screenY-ui.screenY):Pl=Nl=0,ui=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),hd=_t(Ns),Jg=$({},Ns,{dataTransfer:0}),Zg=_t(Jg),e_=$({},ai,{relatedTarget:0}),Dl=_t(e_),t_=$({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),n_=_t(t_),r_=$({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i_=_t(r_),s_=$({},fr,{data:0}),pd=_t(s_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=a_[e])?!!n[e]:!1}function Al(){return u_}var c_=$({},ai,{key:function(e){if(e.key){var n=o_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d_=_t(c_),f_=$({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=_t(f_),h_=$({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),p_=_t(h_),m_=$({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=_t(m_),__=$({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=_t(__),y_=[9,13,27,32],Ll=h&&"CompositionEvent"in window,ci=null;h&&"documentMode"in document&&(ci=document.documentMode);var w_=h&&"TextEvent"in window&&!ci,gd=h&&(!Ll||ci&&8<ci&&11>=ci),_d=" ",vd=!1;function yd(e,n){switch(e){case"keyup":return y_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function E_(e,n){switch(e){case"compositionend":return wd(n);case"keypress":return n.which!==32?null:(vd=!0,_d);case"textInput":return e=n.data,e===_d&&vd?null:e;default:return null}}function C_(e,n){if(hr)return e==="compositionend"||!Ll&&yd(e,n)?(e=dd(),xs=Tl=gn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gd&&n.locale!=="ko"?null:n.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!S_[e.type]:n==="textarea"}function Cd(e,n,s,a){Wc(a),n=Os(n,"onChange"),0<n.length&&(s=new Rl("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var di=null,fi=null;function k_(e){Bd(e,0)}function Ps(e){var n=vr(e);if(Pc(n))return e}function I_(e,n){if(e==="change")return n}var Sd=!1;if(h){var Ol;if(h){var Ml="oninput"in document;if(!Ml){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Ml=typeof kd.oninput=="function"}Ol=Ml}else Ol=!1;Sd=Ol&&(!document.documentMode||9<document.documentMode)}function Id(){di&&(di.detachEvent("onpropertychange",xd),fi=di=null)}function xd(e){if(e.propertyName==="value"&&Ps(fi)){var n=[];Cd(n,fi,e,pl(e)),Qc(k_,n)}}function x_(e,n,s){e==="focusin"?(Id(),di=n,fi=s,di.attachEvent("onpropertychange",xd)):e==="focusout"&&Id()}function T_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(fi)}function R_(e,n){if(e==="click")return Ps(n)}function N_(e,n){if(e==="input"||e==="change")return Ps(n)}function P_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pt=typeof Object.is=="function"?Object.is:P_;function hi(e,n){if(Pt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!p.call(n,c)||!Pt(e[c],n[c]))return!1}return!0}function Td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,n){var s=Td(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Td(s)}}function Nd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pd(){for(var e=window,n=hs();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hs(e.document)}return n}function Fl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function D_(e){var n=Pd(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Nd(s.ownerDocument.documentElement,s)){if(a!==null&&Fl(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=Rd(s,f);var m=Rd(s,a);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A_=h&&"documentMode"in document&&11>=document.documentMode,pr=null,zl=null,pi=null,bl=!1;function Dd(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bl||pr==null||pr!==hs(a)||(a=pr,"selectionStart"in a&&Fl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pi&&hi(pi,a)||(pi=a,a=Os(zl,"onSelect"),0<a.length&&(n=new Rl("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=pr)))}function Ds(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var mr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},Ul={},Ad={};h&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function As(e){if(Ul[e])return Ul[e];if(!mr[e])return e;var n=mr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ad)return Ul[e]=n[s];return e}var Ld=As("animationend"),Od=As("animationiteration"),Md=As("animationstart"),Fd=As("transitionend"),zd=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,n){zd.set(e,n),u(n,[e])}for(var Bl=0;Bl<bd.length;Bl++){var jl=bd[Bl],L_=jl.toLowerCase(),O_=jl[0].toUpperCase()+jl.slice(1);_n(L_,"on"+O_)}_n(Ld,"onAnimationEnd"),_n(Od,"onAnimationIteration"),_n(Md,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Fd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M_=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function Ud(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,Lg(a,n,void 0,e),e.currentTarget=null}function Bd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var m=a.length-1;0<=m;m--){var _=a[m],E=_.instance,x=_.currentTarget;if(_=_.listener,E!==f&&c.isPropagationStopped())break e;Ud(c,_,x),f=E}else for(m=0;m<a.length;m++){if(_=a[m],E=_.instance,x=_.currentTarget,_=_.listener,E!==f&&c.isPropagationStopped())break e;Ud(c,_,x),f=E}}}if(gs)throw e=vl,gs=!1,vl=null,e}function we(e,n){var s=n[Yl];s===void 0&&(s=n[Yl]=new Set);var a=e+"__bubble";s.has(a)||(jd(n,e,2,!1),s.add(a))}function Wl(e,n,s){var a=0;n&&(a|=4),jd(s,e,a,n)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[Ls]){e[Ls]=!0,o.forEach(function(s){s!=="selectionchange"&&(M_.has(s)||Wl(s,!1,e),Wl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ls]||(n[Ls]=!0,Wl("selectionchange",!1,n))}}function jd(e,n,s,a){switch(cd(n)){case 1:var c=Yg;break;case 4:c=qg;break;default:c=Il}s=c.bind(null,n,s,e),c=void 0,!_l||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function $l(e,n,s,a,c){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;m=m.return}for(;_!==null;){if(m=Bn(_),m===null)return;if(E=m.tag,E===5||E===6){a=f=m;continue e}_=_.parentNode}}a=a.return}Qc(function(){var x=f,L=pl(s),M=[];e:{var D=zd.get(e);if(D!==void 0){var j=Rl,H=e;switch(e){case"keypress":if(Ts(s)===0)break e;case"keydown":case"keyup":j=d_;break;case"focusin":H="focus",j=Dl;break;case"focusout":H="blur",j=Dl;break;case"beforeblur":case"afterblur":j=Dl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=p_;break;case Ld:case Od:case Md:j=n_;break;case Fd:j=g_;break;case"scroll":j=Xg;break;case"wheel":j=v_;break;case"copy":case"cut":case"paste":j=i_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=md}var V=(n&4)!==0,Me=!V&&e==="scroll",k=V?D!==null?D+"Capture":null:D;V=[];for(var C=x,I;C!==null;){I=C;var F=I.stateNode;if(I.tag===5&&F!==null&&(I=F,k!==null&&(F=Jr(C,k),F!=null&&V.push(_i(C,F,I)))),Me)break;C=C.return}0<V.length&&(D=new j(D,H,null,s,L),M.push({event:D,listeners:V}))}}if(!(n&7)){e:{if(D=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",D&&s!==hl&&(H=s.relatedTarget||s.fromElement)&&(Bn(H)||H[Yt]))break e;if((j||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,j?(H=s.relatedTarget||s.toElement,j=x,H=H?Bn(H):null,H!==null&&(Me=Un(H),H!==Me||H.tag!==5&&H.tag!==6)&&(H=null)):(j=null,H=x),j!==H)){if(V=hd,F="onMouseLeave",k="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(V=md,F="onPointerLeave",k="onPointerEnter",C="pointer"),Me=j==null?D:vr(j),I=H==null?D:vr(H),D=new V(F,C+"leave",j,s,L),D.target=Me,D.relatedTarget=I,F=null,Bn(L)===x&&(V=new V(k,C+"enter",H,s,L),V.target=I,V.relatedTarget=Me,F=V),Me=F,j&&H)t:{for(V=j,k=H,C=0,I=V;I;I=gr(I))C++;for(I=0,F=k;F;F=gr(F))I++;for(;0<C-I;)V=gr(V),C--;for(;0<I-C;)k=gr(k),I--;for(;C--;){if(V===k||k!==null&&V===k.alternate)break t;V=gr(V),k=gr(k)}V=null}else V=null;j!==null&&Wd(M,D,j,V,!1),H!==null&&Me!==null&&Wd(M,Me,H,V,!0)}}e:{if(D=x?vr(x):window,j=D.nodeName&&D.nodeName.toLowerCase(),j==="select"||j==="input"&&D.type==="file")var Q=I_;else if(Ed(D))if(Sd)Q=N_;else{Q=T_;var G=x_}else(j=D.nodeName)&&j.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Q=R_);if(Q&&(Q=Q(e,x))){Cd(M,Q,s,L);break e}G&&G(e,D,x),e==="focusout"&&(G=D._wrapperState)&&G.controlled&&D.type==="number"&&al(D,"number",D.value)}switch(G=x?vr(x):window,e){case"focusin":(Ed(G)||G.contentEditable==="true")&&(pr=G,zl=x,pi=null);break;case"focusout":pi=zl=pr=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,Dd(M,s,L);break;case"selectionchange":if(A_)break;case"keydown":case"keyup":Dd(M,s,L)}var K;if(Ll)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else hr?yd(e,s)&&(J="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(J="onCompositionStart");J&&(gd&&s.locale!=="ko"&&(hr||J!=="onCompositionStart"?J==="onCompositionEnd"&&hr&&(K=dd()):(gn=L,Tl="value"in gn?gn.value:gn.textContent,hr=!0)),G=Os(x,J),0<G.length&&(J=new pd(J,e,null,s,L),M.push({event:J,listeners:G}),K?J.data=K:(K=wd(s),K!==null&&(J.data=K)))),(K=w_?E_(e,s):C_(e,s))&&(x=Os(x,"onBeforeInput"),0<x.length&&(L=new pd("onBeforeInput","beforeinput",null,s,L),M.push({event:L,listeners:x}),L.data=K))}Bd(M,n)})}function _i(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Os(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Jr(e,s),f!=null&&a.unshift(_i(e,f,c)),f=Jr(e,n),f!=null&&a.push(_i(e,f,c))),e=e.return}return a}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,n,s,a,c){for(var f=n._reactName,m=[];s!==null&&s!==a;){var _=s,E=_.alternate,x=_.stateNode;if(E!==null&&E===a)break;_.tag===5&&x!==null&&(_=x,c?(E=Jr(s,f),E!=null&&m.unshift(_i(s,E,_))):c||(E=Jr(s,f),E!=null&&m.push(_i(s,E,_)))),s=s.return}m.length!==0&&e.push({event:n,listeners:m})}var F_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function $d(e){return(typeof e=="string"?e:""+e).replace(F_,`
`).replace(z_,"")}function Ms(e,n,s){if(n=$d(n),$d(e)!==n&&s)throw Error(r(425))}function Fs(){}var Hl=null,Vl=null;function Ql(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,b_=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(e){return Hd.resolve(null).then(e).catch(B_)}:Gl;function B_(e){setTimeout(function(){throw e})}function Kl(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),li(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);li(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Vd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),$t="__reactFiber$"+_r,vi="__reactProps$"+_r,Yt="__reactContainer$"+_r,Yl="__reactEvents$"+_r,j_="__reactListeners$"+_r,W_="__reactHandles$"+_r;function Bn(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vd(e);e!==null;){if(s=e[$t])return s;e=Vd(e)}return n}e=s,s=e.parentNode}return null}function yi(e){return e=e[$t]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function zs(e){return e[vi]||null}var ql=[],yr=-1;function yn(e){return{current:e}}function Ee(e){0>yr||(e.current=ql[yr],ql[yr]=null,yr--)}function _e(e,n){yr++,ql[yr]=e.current,e.current=n}var wn={},Xe=yn(wn),st=yn(!1),jn=wn;function wr(e,n){var s=e.type.contextTypes;if(!s)return wn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function ot(e){return e=e.childContextTypes,e!=null}function bs(){Ee(st),Ee(Xe)}function Qd(e,n,s){if(Xe.current!==wn)throw Error(r(168));_e(Xe,n),_e(st,s)}function Gd(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(r(108,ge(e)||"Unknown",c));return $({},s,a)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,jn=Xe.current,_e(Xe,e),_e(st,st.current),!0}function Kd(e,n,s){var a=e.stateNode;if(!a)throw Error(r(169));s?(e=Gd(e,n,jn),a.__reactInternalMemoizedMergedChildContext=e,Ee(st),Ee(Xe),_e(Xe,e)):Ee(st),_e(st,s)}var qt=null,Bs=!1,Xl=!1;function Yd(e){qt===null?qt=[e]:qt.push(e)}function $_(e){Bs=!0,Yd(e)}function En(){if(!Xl&&qt!==null){Xl=!0;var e=0,n=he;try{var s=qt;for(he=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}qt=null,Bs=!1}catch(c){throw qt!==null&&(qt=qt.slice(e+1)),Xc(yl,En),c}finally{he=n,Xl=!1}}return null}var Er=[],Cr=0,js=null,Ws=0,Et=[],Ct=0,Wn=null,Xt=1,Jt="";function $n(e,n){Er[Cr++]=Ws,Er[Cr++]=js,js=e,Ws=n}function qd(e,n,s){Et[Ct++]=Xt,Et[Ct++]=Jt,Et[Ct++]=Wn,Wn=e;var a=Xt;e=Jt;var c=32-Nt(a)-1;a&=~(1<<c),s+=1;var f=32-Nt(n)+c;if(30<f){var m=c-c%5;f=(a&(1<<m)-1).toString(32),a>>=m,c-=m,Xt=1<<32-Nt(n)+c|s<<c|a,Jt=f+e}else Xt=1<<f|s<<c|a,Jt=e}function Jl(e){e.return!==null&&($n(e,1),qd(e,1,0))}function Zl(e){for(;e===js;)js=Er[--Cr],Er[Cr]=null,Ws=Er[--Cr],Er[Cr]=null;for(;e===Wn;)Wn=Et[--Ct],Et[Ct]=null,Jt=Et[--Ct],Et[Ct]=null,Xt=Et[--Ct],Et[Ct]=null}var vt=null,yt=null,ke=!1,Dt=null;function Xd(e,n){var s=xt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Jd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,vt=e,yt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,vt=e,yt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Wn!==null?{id:Xt,overflow:Jt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=xt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,vt=e,yt=null,!0):!1;default:return!1}}function ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ta(e){if(ke){var n=yt;if(n){var s=n;if(!Jd(e,n)){if(ea(e))throw Error(r(418));n=vn(s.nextSibling);var a=vt;n&&Jd(e,n)?Xd(a,s):(e.flags=e.flags&-4097|2,ke=!1,vt=e)}}else{if(ea(e))throw Error(r(418));e.flags=e.flags&-4097|2,ke=!1,vt=e}}}function Zd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function $s(e){if(e!==vt)return!1;if(!ke)return Zd(e),ke=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ql(e.type,e.memoizedProps)),n&&(n=yt)){if(ea(e))throw ef(),Error(r(418));for(;n;)Xd(e,n),n=vn(n.nextSibling)}if(Zd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){yt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}yt=null}}else yt=vt?vn(e.stateNode.nextSibling):null;return!0}function ef(){for(var e=yt;e;)e=vn(e.nextSibling)}function Sr(){yt=vt=null,ke=!1}function na(e){Dt===null?Dt=[e]:Dt.push(e)}var H_=ie.ReactCurrentBatchConfig;function wi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var a=s.stateNode}if(!a)throw Error(r(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(m){var _=c.refs;m===null?delete _[f]:_[f]=m},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Hs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function tf(e){var n=e._init;return n(e._payload)}function nf(e){function n(k,C){if(e){var I=k.deletions;I===null?(k.deletions=[C],k.flags|=16):I.push(C)}}function s(k,C){if(!e)return null;for(;C!==null;)n(k,C),C=C.sibling;return null}function a(k,C){for(k=new Map;C!==null;)C.key!==null?k.set(C.key,C):k.set(C.index,C),C=C.sibling;return k}function c(k,C){return k=Nn(k,C),k.index=0,k.sibling=null,k}function f(k,C,I){return k.index=I,e?(I=k.alternate,I!==null?(I=I.index,I<C?(k.flags|=2,C):I):(k.flags|=2,C)):(k.flags|=1048576,C)}function m(k){return e&&k.alternate===null&&(k.flags|=2),k}function _(k,C,I,F){return C===null||C.tag!==6?(C=Ga(I,k.mode,F),C.return=k,C):(C=c(C,I),C.return=k,C)}function E(k,C,I,F){var Q=I.type;return Q===Ie?L(k,C,I.props.children,F,I.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===it&&tf(Q)===C.type)?(F=c(C,I.props),F.ref=wi(k,C,I),F.return=k,F):(F=mo(I.type,I.key,I.props,null,k.mode,F),F.ref=wi(k,C,I),F.return=k,F)}function x(k,C,I,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==I.containerInfo||C.stateNode.implementation!==I.implementation?(C=Ka(I,k.mode,F),C.return=k,C):(C=c(C,I.children||[]),C.return=k,C)}function L(k,C,I,F,Q){return C===null||C.tag!==7?(C=Xn(I,k.mode,F,Q),C.return=k,C):(C=c(C,I),C.return=k,C)}function M(k,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Ga(""+C,k.mode,I),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case me:return I=mo(C.type,C.key,C.props,null,k.mode,I),I.ref=wi(k,null,C),I.return=k,I;case Ne:return C=Ka(C,k.mode,I),C.return=k,C;case it:var F=C._init;return M(k,F(C._payload),I)}if(Yr(C)||q(C))return C=Xn(C,k.mode,I,null),C.return=k,C;Hs(k,C)}return null}function D(k,C,I,F){var Q=C!==null?C.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return Q!==null?null:_(k,C,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case me:return I.key===Q?E(k,C,I,F):null;case Ne:return I.key===Q?x(k,C,I,F):null;case it:return Q=I._init,D(k,C,Q(I._payload),F)}if(Yr(I)||q(I))return Q!==null?null:L(k,C,I,F,null);Hs(k,I)}return null}function j(k,C,I,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(I)||null,_(C,k,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case me:return k=k.get(F.key===null?I:F.key)||null,E(C,k,F,Q);case Ne:return k=k.get(F.key===null?I:F.key)||null,x(C,k,F,Q);case it:var G=F._init;return j(k,C,I,G(F._payload),Q)}if(Yr(F)||q(F))return k=k.get(I)||null,L(C,k,F,Q,null);Hs(C,F)}return null}function H(k,C,I,F){for(var Q=null,G=null,K=C,J=C=0,He=null;K!==null&&J<I.length;J++){K.index>J?(He=K,K=null):He=K.sibling;var ce=D(k,K,I[J],F);if(ce===null){K===null&&(K=He);break}e&&K&&ce.alternate===null&&n(k,K),C=f(ce,C,J),G===null?Q=ce:G.sibling=ce,G=ce,K=He}if(J===I.length)return s(k,K),ke&&$n(k,J),Q;if(K===null){for(;J<I.length;J++)K=M(k,I[J],F),K!==null&&(C=f(K,C,J),G===null?Q=K:G.sibling=K,G=K);return ke&&$n(k,J),Q}for(K=a(k,K);J<I.length;J++)He=j(K,k,J,I[J],F),He!==null&&(e&&He.alternate!==null&&K.delete(He.key===null?J:He.key),C=f(He,C,J),G===null?Q=He:G.sibling=He,G=He);return e&&K.forEach(function(Pn){return n(k,Pn)}),ke&&$n(k,J),Q}function V(k,C,I,F){var Q=q(I);if(typeof Q!="function")throw Error(r(150));if(I=Q.call(I),I==null)throw Error(r(151));for(var G=Q=null,K=C,J=C=0,He=null,ce=I.next();K!==null&&!ce.done;J++,ce=I.next()){K.index>J?(He=K,K=null):He=K.sibling;var Pn=D(k,K,ce.value,F);if(Pn===null){K===null&&(K=He);break}e&&K&&Pn.alternate===null&&n(k,K),C=f(Pn,C,J),G===null?Q=Pn:G.sibling=Pn,G=Pn,K=He}if(ce.done)return s(k,K),ke&&$n(k,J),Q;if(K===null){for(;!ce.done;J++,ce=I.next())ce=M(k,ce.value,F),ce!==null&&(C=f(ce,C,J),G===null?Q=ce:G.sibling=ce,G=ce);return ke&&$n(k,J),Q}for(K=a(k,K);!ce.done;J++,ce=I.next())ce=j(K,k,J,ce.value,F),ce!==null&&(e&&ce.alternate!==null&&K.delete(ce.key===null?J:ce.key),C=f(ce,C,J),G===null?Q=ce:G.sibling=ce,G=ce);return e&&K.forEach(function(Cv){return n(k,Cv)}),ke&&$n(k,J),Q}function Me(k,C,I,F){if(typeof I=="object"&&I!==null&&I.type===Ie&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case me:e:{for(var Q=I.key,G=C;G!==null;){if(G.key===Q){if(Q=I.type,Q===Ie){if(G.tag===7){s(k,G.sibling),C=c(G,I.props.children),C.return=k,k=C;break e}}else if(G.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===it&&tf(Q)===G.type){s(k,G.sibling),C=c(G,I.props),C.ref=wi(k,G,I),C.return=k,k=C;break e}s(k,G);break}else n(k,G);G=G.sibling}I.type===Ie?(C=Xn(I.props.children,k.mode,F,I.key),C.return=k,k=C):(F=mo(I.type,I.key,I.props,null,k.mode,F),F.ref=wi(k,C,I),F.return=k,k=F)}return m(k);case Ne:e:{for(G=I.key;C!==null;){if(C.key===G)if(C.tag===4&&C.stateNode.containerInfo===I.containerInfo&&C.stateNode.implementation===I.implementation){s(k,C.sibling),C=c(C,I.children||[]),C.return=k,k=C;break e}else{s(k,C);break}else n(k,C);C=C.sibling}C=Ka(I,k.mode,F),C.return=k,k=C}return m(k);case it:return G=I._init,Me(k,C,G(I._payload),F)}if(Yr(I))return H(k,C,I,F);if(q(I))return V(k,C,I,F);Hs(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,C!==null&&C.tag===6?(s(k,C.sibling),C=c(C,I),C.return=k,k=C):(s(k,C),C=Ga(I,k.mode,F),C.return=k,k=C),m(k)):s(k,C)}return Me}var kr=nf(!0),rf=nf(!1),Vs=yn(null),Qs=null,Ir=null,ra=null;function ia(){ra=Ir=Qs=null}function sa(e){var n=Vs.current;Ee(Vs),e._currentValue=n}function oa(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function xr(e,n){Qs=e,ra=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(lt=!0),e.firstContext=null)}function St(e){var n=e._currentValue;if(ra!==e)if(e={context:e,memoizedValue:n,next:null},Ir===null){if(Qs===null)throw Error(r(308));Ir=e,Qs.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return n}var Hn=null;function la(e){Hn===null?Hn=[e]:Hn.push(e)}function sf(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,la(n)):(s.next=c.next,c.next=s),n.interleaved=s,Zt(e,a)}function Zt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cn=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sn(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,le&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,Zt(e,s)}return c=a.interleaved,c===null?(n.next=n,la(a)):(n.next=c.next,c.next=n),a.interleaved=n,Zt(e,s)}function Gs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Cl(e,s)}}function lf(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=m:f=f.next=m,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Ks(e,n,s,a){var c=e.updateQueue;Cn=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,x=E.next;E.next=null,m===null?f=x:m.next=x,m=E;var L=e.alternate;L!==null&&(L=L.updateQueue,_=L.lastBaseUpdate,_!==m&&(_===null?L.firstBaseUpdate=x:_.next=x,L.lastBaseUpdate=E))}if(f!==null){var M=c.baseState;m=0,L=x=E=null,_=f;do{var D=_.lane,j=_.eventTime;if((a&D)===D){L!==null&&(L=L.next={eventTime:j,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var H=e,V=_;switch(D=n,j=s,V.tag){case 1:if(H=V.payload,typeof H=="function"){M=H.call(j,M,D);break e}M=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=V.payload,D=typeof H=="function"?H.call(j,M,D):H,D==null)break e;M=$({},M,D);break e;case 2:Cn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,D=c.effects,D===null?c.effects=[_]:D.push(_))}else j={eventTime:j,lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},L===null?(x=L=j,E=M):L=L.next=j,m|=D;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;D=_,_=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);if(L===null&&(E=M),c.baseState=E,c.firstBaseUpdate=x,c.lastBaseUpdate=L,n=c.shared.interleaved,n!==null){c=n;do m|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Gn|=m,e.lanes=m,e.memoizedState=M}}function af(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(r(191,c));c.call(a)}}}var Ei={},Ht=yn(Ei),Ci=yn(Ei),Si=yn(Ei);function Vn(e){if(e===Ei)throw Error(r(174));return e}function ua(e,n){switch(_e(Si,n),_e(Ci,e),_e(Ht,Ei),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:cl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=cl(n,e)}Ee(Ht),_e(Ht,n)}function Tr(){Ee(Ht),Ee(Ci),Ee(Si)}function uf(e){Vn(Si.current);var n=Vn(Ht.current),s=cl(n,e.type);n!==s&&(_e(Ci,e),_e(Ht,s))}function ca(e){Ci.current===e&&(Ee(Ht),Ee(Ci))}var xe=yn(0);function Ys(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var da=[];function fa(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var qs=ie.ReactCurrentDispatcher,ha=ie.ReactCurrentBatchConfig,Qn=0,Te=null,be=null,We=null,Xs=!1,ki=!1,Ii=0,V_=0;function Je(){throw Error(r(321))}function pa(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Pt(e[s],n[s]))return!1;return!0}function ma(e,n,s,a,c,f){if(Qn=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,qs.current=e===null||e.memoizedState===null?Y_:q_,e=s(a,c),ki){f=0;do{if(ki=!1,Ii=0,25<=f)throw Error(r(301));f+=1,We=be=null,n.updateQueue=null,qs.current=X_,e=s(a,c)}while(ki)}if(qs.current=eo,n=be!==null&&be.next!==null,Qn=0,We=be=Te=null,Xs=!1,n)throw Error(r(300));return e}function ga(){var e=Ii!==0;return Ii=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=e:We=We.next=e,We}function kt(){if(be===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var n=We===null?Te.memoizedState:We.next;if(n!==null)We=n,be=e;else{if(e===null)throw Error(r(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},We===null?Te.memoizedState=We=e:We=We.next=e}return We}function xi(e,n){return typeof n=="function"?n(e):n}function _a(e){var n=kt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=be,c=a.baseQueue,f=s.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}a.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,a=a.baseState;var _=m=null,E=null,x=f;do{var L=x.lane;if((Qn&L)===L)E!==null&&(E=E.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var M={lane:L,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};E===null?(_=E=M,m=a):E=E.next=M,Te.lanes|=L,Gn|=L}x=x.next}while(x!==null&&x!==f);E===null?m=a:E.next=_,Pt(a,n.memoizedState)||(lt=!0),n.memoizedState=a,n.baseState=m,n.baseQueue=E,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Te.lanes|=f,Gn|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function va(e){var n=kt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do f=e(f,m.action),m=m.next;while(m!==c);Pt(f,n.memoizedState)||(lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,a]}function cf(){}function df(e,n){var s=Te,a=kt(),c=n(),f=!Pt(a.memoizedState,c);if(f&&(a.memoizedState=c,lt=!0),a=a.queue,ya(pf.bind(null,s,a,e),[e]),a.getSnapshot!==n||f||We!==null&&We.memoizedState.tag&1){if(s.flags|=2048,Ti(9,hf.bind(null,s,a,c,n),void 0,null),$e===null)throw Error(r(349));Qn&30||ff(s,n,c)}return c}function ff(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n={lastEffect:null,stores:null},Te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function hf(e,n,s,a){n.value=s,n.getSnapshot=a,mf(n)&&gf(e)}function pf(e,n,s){return s(function(){mf(n)&&gf(e)})}function mf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Pt(e,s)}catch{return!0}}function gf(e){var n=Zt(e,1);n!==null&&Mt(n,e,1,-1)}function _f(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},n.queue=e,e=e.dispatch=K_.bind(null,Te,e),[n.memoizedState,e]}function Ti(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=Te.updateQueue,n===null?(n={lastEffect:null,stores:null},Te.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function vf(){return kt().memoizedState}function Js(e,n,s,a){var c=Vt();Te.flags|=e,c.memoizedState=Ti(1|n,s,void 0,a===void 0?null:a)}function Zs(e,n,s,a){var c=kt();a=a===void 0?null:a;var f=void 0;if(be!==null){var m=be.memoizedState;if(f=m.destroy,a!==null&&pa(a,m.deps)){c.memoizedState=Ti(n,s,f,a);return}}Te.flags|=e,c.memoizedState=Ti(1|n,s,f,a)}function yf(e,n){return Js(8390656,8,e,n)}function ya(e,n){return Zs(2048,8,e,n)}function wf(e,n){return Zs(4,2,e,n)}function Ef(e,n){return Zs(4,4,e,n)}function Cf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sf(e,n,s){return s=s!=null?s.concat([e]):null,Zs(4,4,Cf.bind(null,n,e),s)}function wa(){}function kf(e,n){var s=kt();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&pa(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function If(e,n){var s=kt();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&pa(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function xf(e,n,s){return Qn&21?(Pt(s,n)||(s=td(),Te.lanes|=s,Gn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=s)}function Q_(e,n){var s=he;he=s!==0&&4>s?s:4,e(!0);var a=ha.transition;ha.transition={};try{e(!1),n()}finally{he=s,ha.transition=a}}function Tf(){return kt().memoizedState}function G_(e,n,s){var a=Tn(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Rf(e))Nf(n,s);else if(s=sf(e,n,s,a),s!==null){var c=rt();Mt(s,e,a,c),Pf(s,n,a)}}function K_(e,n,s){var a=Tn(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Rf(e))Nf(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,_=f(m,s);if(c.hasEagerState=!0,c.eagerState=_,Pt(_,m)){var E=n.interleaved;E===null?(c.next=c,la(n)):(c.next=E.next,E.next=c),n.interleaved=c;return}}catch{}finally{}s=sf(e,n,c,a),s!==null&&(c=rt(),Mt(s,e,a,c),Pf(s,n,a))}}function Rf(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Nf(e,n){ki=Xs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pf(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Cl(e,s)}}var eo={readContext:St,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Y_={readContext:St,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:St,useEffect:yf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Js(4194308,4,Cf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Js(4194308,4,e,n)},useInsertionEffect:function(e,n){return Js(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Vt();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=G_.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:_f,useDebugValue:wa,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=_f(!1),n=e[0];return e=Q_.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=Te,c=Vt();if(ke){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$e===null)throw Error(r(349));Qn&30||ff(a,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,yf(pf.bind(null,a,f,e),[e]),a.flags|=2048,Ti(9,hf.bind(null,a,f,s,n),void 0,null),s},useId:function(){var e=Vt(),n=$e.identifierPrefix;if(ke){var s=Jt,a=Xt;s=(a&~(1<<32-Nt(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ii++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=V_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},q_={readContext:St,useCallback:kf,useContext:St,useEffect:ya,useImperativeHandle:Sf,useInsertionEffect:wf,useLayoutEffect:Ef,useMemo:If,useReducer:_a,useRef:vf,useState:function(){return _a(xi)},useDebugValue:wa,useDeferredValue:function(e){var n=kt();return xf(n,be.memoizedState,e)},useTransition:function(){var e=_a(xi)[0],n=kt().memoizedState;return[e,n]},useMutableSource:cf,useSyncExternalStore:df,useId:Tf,unstable_isNewReconciler:!1},X_={readContext:St,useCallback:kf,useContext:St,useEffect:ya,useImperativeHandle:Sf,useInsertionEffect:wf,useLayoutEffect:Ef,useMemo:If,useReducer:va,useRef:vf,useState:function(){return va(xi)},useDebugValue:wa,useDeferredValue:function(e){var n=kt();return be===null?n.memoizedState=e:xf(n,be.memoizedState,e)},useTransition:function(){var e=va(xi)[0],n=kt().memoizedState;return[e,n]},useMutableSource:cf,useSyncExternalStore:df,useId:Tf,unstable_isNewReconciler:!1};function At(e,n){if(e&&e.defaultProps){n=$({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Ea(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:$({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var to={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=rt(),c=Tn(e),f=en(a,c);f.payload=n,s!=null&&(f.callback=s),n=Sn(e,f,c),n!==null&&(Mt(n,e,c,a),Gs(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=rt(),c=Tn(e),f=en(a,c);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Sn(e,f,c),n!==null&&(Mt(n,e,c,a),Gs(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=rt(),a=Tn(e),c=en(s,a);c.tag=2,n!=null&&(c.callback=n),n=Sn(e,c,a),n!==null&&(Mt(n,e,a,s),Gs(n,e,a))}};function Df(e,n,s,a,c,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,m):n.prototype&&n.prototype.isPureReactComponent?!hi(s,a)||!hi(c,f):!0}function Af(e,n,s){var a=!1,c=wn,f=n.contextType;return typeof f=="object"&&f!==null?f=St(f):(c=ot(n)?jn:Xe.current,a=n.contextTypes,f=(a=a!=null)?wr(e,c):wn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=to,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function Lf(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&to.enqueueReplaceState(n,n.state,null)}function Ca(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},aa(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=St(f):(f=ot(n)?jn:Xe.current,c.context=wr(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Ea(e,n,f,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&to.enqueueReplaceState(c,c.state,null),Ks(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,n){try{var s="",a=n;do s+=ae(a),a=a.return;while(a);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Sa(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ka(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var J_=typeof WeakMap=="function"?WeakMap:Map;function Of(e,n,s){s=en(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){ao||(ao=!0,Ua=a),ka(e,n)},s}function Mf(e,n,s){s=en(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){ka(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){ka(e,n),typeof a!="function"&&(In===null?In=new Set([this]):In.add(this));var m=n.stack;this.componentDidCatch(n.value,{componentStack:m!==null?m:""})}),s}function Ff(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new J_;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=fv.bind(null,e,n,s),n.then(e,e))}function zf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function bf(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=en(-1,1),n.tag=2,Sn(s,n,1))),s.lanes|=1),e)}var Z_=ie.ReactCurrentOwner,lt=!1;function nt(e,n,s,a){n.child=e===null?rf(n,null,s,a):kr(n,e.child,s,a)}function Uf(e,n,s,a,c){s=s.render;var f=n.ref;return xr(n,c),a=ma(e,n,s,a,f,c),s=ga(),e!==null&&!lt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,tn(e,n,c)):(ke&&s&&Jl(n),n.flags|=1,nt(e,n,a,c),n.child)}function Bf(e,n,s,a,c){if(e===null){var f=s.type;return typeof f=="function"&&!Qa(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,jf(e,n,f,a,c)):(e=mo(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var m=f.memoizedProps;if(s=s.compare,s=s!==null?s:hi,s(m,a)&&e.ref===n.ref)return tn(e,n,c)}return n.flags|=1,e=Nn(f,a),e.ref=n.ref,e.return=n,n.child=e}function jf(e,n,s,a,c){if(e!==null){var f=e.memoizedProps;if(hi(f,a)&&e.ref===n.ref)if(lt=!1,n.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(lt=!0);else return n.lanes=e.lanes,tn(e,n,c)}return Ia(e,n,s,a,c)}function Wf(e,n,s){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Pr,wt),wt|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,_e(Pr,wt),wt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,_e(Pr,wt),wt|=a}else f!==null?(a=f.baseLanes|s,n.memoizedState=null):a=s,_e(Pr,wt),wt|=a;return nt(e,n,c,s),n.child}function $f(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ia(e,n,s,a,c){var f=ot(s)?jn:Xe.current;return f=wr(n,f),xr(n,c),s=ma(e,n,s,a,f,c),a=ga(),e!==null&&!lt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,tn(e,n,c)):(ke&&a&&Jl(n),n.flags|=1,nt(e,n,s,c),n.child)}function Hf(e,n,s,a,c){if(ot(s)){var f=!0;Us(n)}else f=!1;if(xr(n,c),n.stateNode===null)ro(e,n),Af(n,s,a),Ca(n,s,a,c),a=!0;else if(e===null){var m=n.stateNode,_=n.memoizedProps;m.props=_;var E=m.context,x=s.contextType;typeof x=="object"&&x!==null?x=St(x):(x=ot(s)?jn:Xe.current,x=wr(n,x));var L=s.getDerivedStateFromProps,M=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function";M||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==a||E!==x)&&Lf(n,m,a,x),Cn=!1;var D=n.memoizedState;m.state=D,Ks(n,a,m,c),E=n.memoizedState,_!==a||D!==E||st.current||Cn?(typeof L=="function"&&(Ea(n,s,L,a),E=n.memoizedState),(_=Cn||Df(n,s,_,a,D,E,x))?(M||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=E),m.props=a,m.state=E,m.context=x,a=_):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,of(e,n),_=n.memoizedProps,x=n.type===n.elementType?_:At(n.type,_),m.props=x,M=n.pendingProps,D=m.context,E=s.contextType,typeof E=="object"&&E!==null?E=St(E):(E=ot(s)?jn:Xe.current,E=wr(n,E));var j=s.getDerivedStateFromProps;(L=typeof j=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==M||D!==E)&&Lf(n,m,a,E),Cn=!1,D=n.memoizedState,m.state=D,Ks(n,a,m,c);var H=n.memoizedState;_!==M||D!==H||st.current||Cn?(typeof j=="function"&&(Ea(n,s,j,a),H=n.memoizedState),(x=Cn||Df(n,s,x,a,D,H,E)||!1)?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,H,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,H,E)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),m.props=a,m.state=H,m.context=E,a=x):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),a=!1)}return xa(e,n,s,a,f,c)}function xa(e,n,s,a,c,f){$f(e,n);var m=(n.flags&128)!==0;if(!a&&!m)return c&&Kd(n,s,!1),tn(e,n,f);a=n.stateNode,Z_.current=n;var _=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&m?(n.child=kr(n,e.child,null,f),n.child=kr(n,null,_,f)):nt(e,n,_,f),n.memoizedState=a.state,c&&Kd(n,s,!0),n.child}function Vf(e){var n=e.stateNode;n.pendingContext?Qd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Qd(e,n.context,!1),ua(e,n.containerInfo)}function Qf(e,n,s,a,c){return Sr(),na(c),n.flags|=256,nt(e,n,s,a),n.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,n,s){var a=n.pendingProps,c=xe.current,f=!1,m=(n.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),_e(xe,c&1),e===null)return ta(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(m=a.children,e=a.fallback,f?(a=n.mode,f=n.child,m={mode:"hidden",children:m},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=go(m,a,0,null),e=Xn(e,a,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Ra(s),n.memoizedState=Ta,e):Na(n,m));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return ev(e,n,m,a,_,c,s);if(f){f=a.fallback,m=n.mode,c=e.child,_=c.sibling;var E={mode:"hidden",children:a.children};return!(m&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=E,n.deletions=null):(a=Nn(c,E),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?f=Nn(_,f):(f=Xn(f,m,s,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,m=e.child.memoizedState,m=m===null?Ra(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=e.childLanes&~s,n.memoizedState=Ta,a}return f=e.child,e=f.sibling,a=Nn(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function Na(e,n){return n=go({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function no(e,n,s,a){return a!==null&&na(a),kr(n,e.child,null,s),e=Na(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ev(e,n,s,a,c,f,m){if(s)return n.flags&256?(n.flags&=-257,a=Sa(Error(r(422))),no(e,n,m,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=go({mode:"visible",children:a.children},c,0,null),f=Xn(f,c,m,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&kr(n,e.child,null,m),n.child.memoizedState=Ra(m),n.memoizedState=Ta,f);if(!(n.mode&1))return no(e,n,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,f=Error(r(419)),a=Sa(f,a,void 0),no(e,n,m,a)}if(_=(m&e.childLanes)!==0,lt||_){if(a=$e,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Zt(e,c),Mt(a,e,c,-1))}return Va(),a=Sa(Error(r(421))),no(e,n,m,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=hv.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,yt=vn(c.nextSibling),vt=n,ke=!0,Dt=null,e!==null&&(Et[Ct++]=Xt,Et[Ct++]=Jt,Et[Ct++]=Wn,Xt=e.id,Jt=e.overflow,Wn=n),n=Na(n,a.children),n.flags|=4096,n)}function Kf(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),oa(e.return,n,s)}function Pa(e,n,s,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=c)}function Yf(e,n,s){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(nt(e,n,a.children,s),a=xe.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kf(e,s,n);else if(e.tag===19)Kf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_e(xe,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Ys(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Pa(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ys(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Pa(n,!0,s,null,f);break;case"together":Pa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ro(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function tn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Gn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Nn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Nn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function tv(e,n,s){switch(n.tag){case 3:Vf(n),Sr();break;case 5:uf(n);break;case 1:ot(n.type)&&Us(n);break;case 4:ua(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;_e(Vs,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(_e(xe,xe.current&1),n.flags|=128,null):s&n.child.childLanes?Gf(e,n,s):(_e(xe,xe.current&1),e=tn(e,n,s),e!==null?e.sibling:null);_e(xe,xe.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return Yf(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(xe,xe.current),a)break;return null;case 22:case 23:return n.lanes=0,Wf(e,n,s)}return tn(e,n,s)}var qf,Da,Xf,Jf;qf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Da=function(){},Xf=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Vn(Ht.current);var f=null;switch(s){case"input":c=ol(e,c),a=ol(e,a),f=[];break;case"select":c=$({},c,{value:void 0}),a=$({},a,{value:void 0}),f=[];break;case"textarea":c=ul(e,c),a=ul(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Fs)}dl(s,a);var m;s=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var _=c[x];for(m in _)_.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(l.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var E=a[x];if(_=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&E!==_&&(E!=null||_!=null))if(x==="style")if(_){for(m in _)!_.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in E)E.hasOwnProperty(m)&&_[m]!==E[m]&&(s||(s={}),s[m]=E[m])}else s||(f||(f=[]),f.push(x,s)),s=E;else x==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,_=_?_.__html:void 0,E!=null&&_!==E&&(f=f||[]).push(x,E)):x==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(x,""+E):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(l.hasOwnProperty(x)?(E!=null&&x==="onScroll"&&we("scroll",e),f||_===E||(f=[])):(f=f||[]).push(x,E))}s&&(f=f||[]).push("style",s);var x=f;(n.updateQueue=x)&&(n.flags|=4)}},Jf=function(e,n,s,a){s!==a&&(n.flags|=4)};function Ri(e,n){if(!ke)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function nv(e,n,s){var a=n.pendingProps;switch(Zl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return ot(n.type)&&bs(),Ze(n),null;case 3:return a=n.stateNode,Tr(),Ee(st),Ee(Xe),fa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($s(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Dt!==null&&(Wa(Dt),Dt=null))),Da(e,n),Ze(n),null;case 5:ca(n);var c=Vn(Si.current);if(s=n.type,e!==null&&n.stateNode!=null)Xf(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}if(e=Vn(Ht.current),$s(n)){a=n.stateNode,s=n.type;var f=n.memoizedProps;switch(a[$t]=n,a[vi]=f,e=(n.mode&1)!==0,s){case"dialog":we("cancel",a),we("close",a);break;case"iframe":case"object":case"embed":we("load",a);break;case"video":case"audio":for(c=0;c<mi.length;c++)we(mi[c],a);break;case"source":we("error",a);break;case"img":case"image":case"link":we("error",a),we("load",a);break;case"details":we("toggle",a);break;case"input":Dc(a,f),we("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},we("invalid",a);break;case"textarea":Oc(a,f),we("invalid",a)}dl(s,f),c=null;for(var m in f)if(f.hasOwnProperty(m)){var _=f[m];m==="children"?typeof _=="string"?a.textContent!==_&&(f.suppressHydrationWarning!==!0&&Ms(a.textContent,_,e),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Ms(a.textContent,_,e),c=["children",""+_]):l.hasOwnProperty(m)&&_!=null&&m==="onScroll"&&we("scroll",a)}switch(s){case"input":fs(a),Lc(a,f,!0);break;case"textarea":fs(a),Fc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=Fs)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(s,{is:a.is}):(e=m.createElement(s),s==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,s),e[$t]=n,e[vi]=a,qf(e,n,!1,!1),n.stateNode=e;e:{switch(m=fl(s,a),s){case"dialog":we("cancel",e),we("close",e),c=a;break;case"iframe":case"object":case"embed":we("load",e),c=a;break;case"video":case"audio":for(c=0;c<mi.length;c++)we(mi[c],e);c=a;break;case"source":we("error",e),c=a;break;case"img":case"image":case"link":we("error",e),we("load",e),c=a;break;case"details":we("toggle",e),c=a;break;case"input":Dc(e,a),c=ol(e,a),we("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=$({},a,{value:void 0}),we("invalid",e);break;case"textarea":Oc(e,a),c=ul(e,a),we("invalid",e);break;default:c=a}dl(s,c),_=c;for(f in _)if(_.hasOwnProperty(f)){var E=_[f];f==="style"?Bc(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&bc(e,E)):f==="children"?typeof E=="string"?(s!=="textarea"||E!=="")&&qr(e,E):typeof E=="number"&&qr(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?E!=null&&f==="onScroll"&&we("scroll",e):E!=null&&Z(e,f,E,m))}switch(s){case"input":fs(e),Lc(e,a,!1);break;case"textarea":fs(e),Fc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?ar(e,!!a.multiple,f,!1):a.defaultValue!=null&&ar(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Fs)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ze(n),null;case 6:if(e&&n.stateNode!=null)Jf(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(s=Vn(Si.current),Vn(Ht.current),$s(n)){if(a=n.stateNode,s=n.memoizedProps,a[$t]=n,(f=a.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:Ms(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(a.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[$t]=n,n.stateNode=a}return Ze(n),null;case 13:if(Ee(xe),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&yt!==null&&n.mode&1&&!(n.flags&128))ef(),Sr(),n.flags|=98560,f=!1;else if(f=$s(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[$t]=n}else Sr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ze(n),f=!1}else Dt!==null&&(Wa(Dt),Dt=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||xe.current&1?Ue===0&&(Ue=3):Va())),n.updateQueue!==null&&(n.flags|=4),Ze(n),null);case 4:return Tr(),Da(e,n),e===null&&gi(n.stateNode.containerInfo),Ze(n),null;case 10:return sa(n.type._context),Ze(n),null;case 17:return ot(n.type)&&bs(),Ze(n),null;case 19:if(Ee(xe),f=n.memoizedState,f===null)return Ze(n),null;if(a=(n.flags&128)!==0,m=f.rendering,m===null)if(a)Ri(f,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(m=Ys(e),m!==null){for(n.flags|=128,Ri(f,!1),a=m.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)f=s,e=a,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,e=m.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(xe,xe.current&1|2),n.child}e=e.sibling}f.tail!==null&&Oe()>Dr&&(n.flags|=128,a=!0,Ri(f,!1),n.lanes=4194304)}else{if(!a)if(e=Ys(m),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ri(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!ke)return Ze(n),null}else 2*Oe()-f.renderingStartTime>Dr&&s!==1073741824&&(n.flags|=128,a=!0,Ri(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(s=f.last,s!==null?s.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,s=xe.current,_e(xe,a?s&1|2:s&1),n):(Ze(n),null);case 22:case 23:return Ha(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?wt&1073741824&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function rv(e,n){switch(Zl(n),n.tag){case 1:return ot(n.type)&&bs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Tr(),Ee(st),Ee(Xe),fa(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ca(n),null;case 13:if(Ee(xe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ee(xe),null;case 4:return Tr(),null;case 10:return sa(n.type._context),null;case 22:case 23:return Ha(),null;case 24:return null;default:return null}}var io=!1,et=!1,iv=typeof WeakSet=="function"?WeakSet:Set,W=null;function Nr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ae(e,n,a)}else s.current=null}function Aa(e,n,s){try{s()}catch(a){Ae(e,n,a)}}var Zf=!1;function sv(e,n){if(Hl=ks,e=Pd(),Fl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var m=0,_=-1,E=-1,x=0,L=0,M=e,D=null;t:for(;;){for(var j;M!==s||c!==0&&M.nodeType!==3||(_=m+c),M!==f||a!==0&&M.nodeType!==3||(E=m+a),M.nodeType===3&&(m+=M.nodeValue.length),(j=M.firstChild)!==null;)D=M,M=j;for(;;){if(M===e)break t;if(D===s&&++x===c&&(_=m),D===f&&++L===a&&(E=m),(j=M.nextSibling)!==null)break;M=D,D=M.parentNode}M=j}s=_===-1||E===-1?null:{start:_,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vl={focusedElem:e,selectionRange:s},ks=!1,W=n;W!==null;)if(n=W,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,W=e;else for(;W!==null;){n=W;try{var H=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var V=H.memoizedProps,Me=H.memoizedState,k=n.stateNode,C=k.getSnapshotBeforeUpdate(n.elementType===n.type?V:At(n.type,V),Me);k.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(F){Ae(n,n.return,F)}if(e=n.sibling,e!==null){e.return=n.return,W=e;break}W=n.return}return H=Zf,Zf=!1,H}function Ni(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Aa(n,s,f)}c=c.next}while(c!==a)}}function so(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function La(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function eh(e){var n=e.alternate;n!==null&&(e.alternate=null,eh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[$t],delete n[vi],delete n[Yl],delete n[j_],delete n[W_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function th(e){return e.tag===5||e.tag===3||e.tag===4}function nh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oa(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fs));else if(a!==4&&(e=e.child,e!==null))for(Oa(e,n,s),e=e.sibling;e!==null;)Oa(e,n,s),e=e.sibling}function Ma(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ma(e,n,s),e=e.sibling;e!==null;)Ma(e,n,s),e=e.sibling}var Ke=null,Lt=!1;function kn(e,n,s){for(s=s.child;s!==null;)rh(e,n,s),s=s.sibling}function rh(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(vs,s)}catch{}switch(s.tag){case 5:et||Nr(s,n);case 6:var a=Ke,c=Lt;Ke=null,kn(e,n,s),Ke=a,Lt=c,Ke!==null&&(Lt?(e=Ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ke.removeChild(s.stateNode));break;case 18:Ke!==null&&(Lt?(e=Ke,s=s.stateNode,e.nodeType===8?Kl(e.parentNode,s):e.nodeType===1&&Kl(e,s),li(e)):Kl(Ke,s.stateNode));break;case 4:a=Ke,c=Lt,Ke=s.stateNode.containerInfo,Lt=!0,kn(e,n,s),Ke=a,Lt=c;break;case 0:case 11:case 14:case 15:if(!et&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&Aa(s,n,m),c=c.next}while(c!==a)}kn(e,n,s);break;case 1:if(!et&&(Nr(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){Ae(s,n,_)}kn(e,n,s);break;case 21:kn(e,n,s);break;case 22:s.mode&1?(et=(a=et)||s.memoizedState!==null,kn(e,n,s),et=a):kn(e,n,s);break;default:kn(e,n,s)}}function ih(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new iv),n.forEach(function(a){var c=pv.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Ot(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var f=e,m=n,_=m;e:for(;_!==null;){switch(_.tag){case 5:Ke=_.stateNode,Lt=!1;break e;case 3:Ke=_.stateNode.containerInfo,Lt=!0;break e;case 4:Ke=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(Ke===null)throw Error(r(160));rh(f,m,c),Ke=null,Lt=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(x){Ae(c,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)sh(n,e),n=n.sibling}function sh(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(n,e),Qt(e),a&4){try{Ni(3,e,e.return),so(3,e)}catch(V){Ae(e,e.return,V)}try{Ni(5,e,e.return)}catch(V){Ae(e,e.return,V)}}break;case 1:Ot(n,e),Qt(e),a&512&&s!==null&&Nr(s,s.return);break;case 5:if(Ot(n,e),Qt(e),a&512&&s!==null&&Nr(s,s.return),e.flags&32){var c=e.stateNode;try{qr(c,"")}catch(V){Ae(e,e.return,V)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,m=s!==null?s.memoizedProps:f,_=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&Ac(c,f),fl(_,m);var x=fl(_,f);for(m=0;m<E.length;m+=2){var L=E[m],M=E[m+1];L==="style"?Bc(c,M):L==="dangerouslySetInnerHTML"?bc(c,M):L==="children"?qr(c,M):Z(c,L,M,x)}switch(_){case"input":ll(c,f);break;case"textarea":Mc(c,f);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var j=f.value;j!=null?ar(c,!!f.multiple,j,!1):D!==!!f.multiple&&(f.defaultValue!=null?ar(c,!!f.multiple,f.defaultValue,!0):ar(c,!!f.multiple,f.multiple?[]:"",!1))}c[vi]=f}catch(V){Ae(e,e.return,V)}}break;case 6:if(Ot(n,e),Qt(e),a&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(V){Ae(e,e.return,V)}}break;case 3:if(Ot(n,e),Qt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{li(n.containerInfo)}catch(V){Ae(e,e.return,V)}break;case 4:Ot(n,e),Qt(e);break;case 13:Ot(n,e),Qt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(ba=Oe())),a&4&&ih(e);break;case 22:if(L=s!==null&&s.memoizedState!==null,e.mode&1?(et=(x=et)||L,Ot(n,e),et=x):Ot(n,e),Qt(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!L&&e.mode&1)for(W=e,L=e.child;L!==null;){for(M=W=L;W!==null;){switch(D=W,j=D.child,D.tag){case 0:case 11:case 14:case 15:Ni(4,D,D.return);break;case 1:Nr(D,D.return);var H=D.stateNode;if(typeof H.componentWillUnmount=="function"){a=D,s=D.return;try{n=a,H.props=n.memoizedProps,H.state=n.memoizedState,H.componentWillUnmount()}catch(V){Ae(a,s,V)}}break;case 5:Nr(D,D.return);break;case 22:if(D.memoizedState!==null){ah(M);continue}}j!==null?(j.return=D,W=j):ah(M)}L=L.sibling}e:for(L=null,M=e;;){if(M.tag===5){if(L===null){L=M;try{c=M.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=M.stateNode,E=M.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,_.style.display=Uc("display",m))}catch(V){Ae(e,e.return,V)}}}else if(M.tag===6){if(L===null)try{M.stateNode.nodeValue=x?"":M.memoizedProps}catch(V){Ae(e,e.return,V)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;L===M&&(L=null),M=M.return}L===M&&(L=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Ot(n,e),Qt(e),a&4&&ih(e);break;case 21:break;default:Ot(n,e),Qt(e)}}function Qt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(th(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(qr(c,""),a.flags&=-33);var f=nh(e);Ma(e,f,c);break;case 3:case 4:var m=a.stateNode.containerInfo,_=nh(e);Oa(e,_,m);break;default:throw Error(r(161))}}catch(E){Ae(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ov(e,n,s){W=e,oh(e)}function oh(e,n,s){for(var a=(e.mode&1)!==0;W!==null;){var c=W,f=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||io;if(!m){var _=c.alternate,E=_!==null&&_.memoizedState!==null||et;_=io;var x=et;if(io=m,(et=E)&&!x)for(W=c;W!==null;)m=W,E=m.child,m.tag===22&&m.memoizedState!==null?uh(c):E!==null?(E.return=m,W=E):uh(c);for(;f!==null;)W=f,oh(f),f=f.sibling;W=c,io=_,et=x}lh(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,W=f):lh(e)}}function lh(e){for(;W!==null;){var n=W;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:et||so(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!et)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:At(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&af(n,f,a);break;case 3:var m=n.updateQueue;if(m!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}af(n,m,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&s.focus();break;case"img":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var L=x.memoizedState;if(L!==null){var M=L.dehydrated;M!==null&&li(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}et||n.flags&512&&La(n)}catch(D){Ae(n,n.return,D)}}if(n===e){W=null;break}if(s=n.sibling,s!==null){s.return=n.return,W=s;break}W=n.return}}function ah(e){for(;W!==null;){var n=W;if(n===e){W=null;break}var s=n.sibling;if(s!==null){s.return=n.return,W=s;break}W=n.return}}function uh(e){for(;W!==null;){var n=W;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{so(4,n)}catch(E){Ae(n,s,E)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(E){Ae(n,c,E)}}var f=n.return;try{La(n)}catch(E){Ae(n,f,E)}break;case 5:var m=n.return;try{La(n)}catch(E){Ae(n,m,E)}}}catch(E){Ae(n,n.return,E)}if(n===e){W=null;break}var _=n.sibling;if(_!==null){_.return=n.return,W=_;break}W=n.return}}var lv=Math.ceil,oo=ie.ReactCurrentDispatcher,Fa=ie.ReactCurrentOwner,It=ie.ReactCurrentBatchConfig,le=0,$e=null,ze=null,Ye=0,wt=0,Pr=yn(0),Ue=0,Pi=null,Gn=0,lo=0,za=0,Di=null,at=null,ba=0,Dr=1/0,nn=null,ao=!1,Ua=null,In=null,uo=!1,xn=null,co=0,Ai=0,Ba=null,fo=-1,ho=0;function rt(){return le&6?Oe():fo!==-1?fo:fo=Oe()}function Tn(e){return e.mode&1?le&2&&Ye!==0?Ye&-Ye:H_.transition!==null?(ho===0&&(ho=td()),ho):(e=he,e!==0||(e=window.event,e=e===void 0?16:cd(e.type)),e):1}function Mt(e,n,s,a){if(50<Ai)throw Ai=0,Ba=null,Error(r(185));ni(e,s,a),(!(le&2)||e!==$e)&&(e===$e&&(!(le&2)&&(lo|=s),Ue===4&&Rn(e,Ye)),ut(e,a),s===1&&le===0&&!(n.mode&1)&&(Dr=Oe()+500,Bs&&En()))}function ut(e,n){var s=e.callbackNode;Hg(e,n);var a=Es(e,e===$e?Ye:0);if(a===0)s!==null&&Jc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&Jc(s),n===1)e.tag===0?$_(dh.bind(null,e)):Yd(dh.bind(null,e)),U_(function(){!(le&6)&&En()}),s=null;else{switch(nd(a)){case 1:s=yl;break;case 4:s=Zc;break;case 16:s=_s;break;case 536870912:s=ed;break;default:s=_s}s=yh(s,ch.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function ch(e,n){if(fo=-1,ho=0,le&6)throw Error(r(327));var s=e.callbackNode;if(Ar()&&e.callbackNode!==s)return null;var a=Es(e,e===$e?Ye:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=po(e,a);else{n=a;var c=le;le|=2;var f=hh();($e!==e||Ye!==n)&&(nn=null,Dr=Oe()+500,Yn(e,n));do try{cv();break}catch(_){fh(e,_)}while(!0);ia(),oo.current=f,le=c,ze!==null?n=0:($e=null,Ye=0,n=Ue)}if(n!==0){if(n===2&&(c=wl(e),c!==0&&(a=c,n=ja(e,c))),n===1)throw s=Pi,Yn(e,0),Rn(e,a),ut(e,Oe()),s;if(n===6)Rn(e,a);else{if(c=e.current.alternate,!(a&30)&&!av(c)&&(n=po(e,a),n===2&&(f=wl(e),f!==0&&(a=f,n=ja(e,f))),n===1))throw s=Pi,Yn(e,0),Rn(e,a),ut(e,Oe()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:qn(e,at,nn);break;case 3:if(Rn(e,a),(a&130023424)===a&&(n=ba+500-Oe(),10<n)){if(Es(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){rt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Gl(qn.bind(null,e,at,nn),n);break}qn(e,at,nn);break;case 4:if(Rn(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var m=31-Nt(a);f=1<<m,m=n[m],m>c&&(c=m),a&=~f}if(a=c,a=Oe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lv(a/1960))-a,10<a){e.timeoutHandle=Gl(qn.bind(null,e,at,nn),a);break}qn(e,at,nn);break;case 5:qn(e,at,nn);break;default:throw Error(r(329))}}}return ut(e,Oe()),e.callbackNode===s?ch.bind(null,e):null}function ja(e,n){var s=Di;return e.current.memoizedState.isDehydrated&&(Yn(e,n).flags|=256),e=po(e,n),e!==2&&(n=at,at=s,n!==null&&Wa(n)),e}function Wa(e){at===null?at=e:at.push.apply(at,e)}function av(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],f=c.getSnapshot;c=c.value;try{if(!Pt(f(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rn(e,n){for(n&=~za,n&=~lo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Nt(n),a=1<<s;e[s]=-1,n&=~a}}function dh(e){if(le&6)throw Error(r(327));Ar();var n=Es(e,0);if(!(n&1))return ut(e,Oe()),null;var s=po(e,n);if(e.tag!==0&&s===2){var a=wl(e);a!==0&&(n=a,s=ja(e,a))}if(s===1)throw s=Pi,Yn(e,0),Rn(e,n),ut(e,Oe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,qn(e,at,nn),ut(e,Oe()),null}function $a(e,n){var s=le;le|=1;try{return e(n)}finally{le=s,le===0&&(Dr=Oe()+500,Bs&&En())}}function Kn(e){xn!==null&&xn.tag===0&&!(le&6)&&Ar();var n=le;le|=1;var s=It.transition,a=he;try{if(It.transition=null,he=1,e)return e()}finally{he=a,It.transition=s,le=n,!(le&6)&&En()}}function Ha(){wt=Pr.current,Ee(Pr)}function Yn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,b_(s)),ze!==null)for(s=ze.return;s!==null;){var a=s;switch(Zl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&bs();break;case 3:Tr(),Ee(st),Ee(Xe),fa();break;case 5:ca(a);break;case 4:Tr();break;case 13:Ee(xe);break;case 19:Ee(xe);break;case 10:sa(a.type._context);break;case 22:case 23:Ha()}s=s.return}if($e=e,ze=e=Nn(e.current,null),Ye=wt=n,Ue=0,Pi=null,za=lo=Gn=0,at=Di=null,Hn!==null){for(n=0;n<Hn.length;n++)if(s=Hn[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,f=s.pending;if(f!==null){var m=f.next;f.next=c,a.next=m}s.pending=a}Hn=null}return e}function fh(e,n){do{var s=ze;try{if(ia(),qs.current=eo,Xs){for(var a=Te.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Xs=!1}if(Qn=0,We=be=Te=null,ki=!1,Ii=0,Fa.current=null,s===null||s.return===null){Ue=1,Pi=n,ze=null;break}e:{var f=e,m=s.return,_=s,E=n;if(n=Ye,_.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var x=E,L=_,M=L.tag;if(!(L.mode&1)&&(M===0||M===11||M===15)){var D=L.alternate;D?(L.updateQueue=D.updateQueue,L.memoizedState=D.memoizedState,L.lanes=D.lanes):(L.updateQueue=null,L.memoizedState=null)}var j=zf(m);if(j!==null){j.flags&=-257,bf(j,m,_,f,n),j.mode&1&&Ff(f,x,n),n=j,E=x;var H=n.updateQueue;if(H===null){var V=new Set;V.add(E),n.updateQueue=V}else H.add(E);break e}else{if(!(n&1)){Ff(f,x,n),Va();break e}E=Error(r(426))}}else if(ke&&_.mode&1){var Me=zf(m);if(Me!==null){!(Me.flags&65536)&&(Me.flags|=256),bf(Me,m,_,f,n),na(Rr(E,_));break e}}f=E=Rr(E,_),Ue!==4&&(Ue=2),Di===null?Di=[f]:Di.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var k=Of(f,E,n);lf(f,k);break e;case 1:_=E;var C=f.type,I=f.stateNode;if(!(f.flags&128)&&(typeof C.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(In===null||!In.has(I)))){f.flags|=65536,n&=-n,f.lanes|=n;var F=Mf(f,_,n);lf(f,F);break e}}f=f.return}while(f!==null)}mh(s)}catch(Q){n=Q,ze===s&&s!==null&&(ze=s=s.return);continue}break}while(!0)}function hh(){var e=oo.current;return oo.current=eo,e===null?eo:e}function Va(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),$e===null||!(Gn&268435455)&&!(lo&268435455)||Rn($e,Ye)}function po(e,n){var s=le;le|=2;var a=hh();($e!==e||Ye!==n)&&(nn=null,Yn(e,n));do try{uv();break}catch(c){fh(e,c)}while(!0);if(ia(),le=s,oo.current=a,ze!==null)throw Error(r(261));return $e=null,Ye=0,Ue}function uv(){for(;ze!==null;)ph(ze)}function cv(){for(;ze!==null&&!Mg();)ph(ze)}function ph(e){var n=vh(e.alternate,e,wt);e.memoizedProps=e.pendingProps,n===null?mh(e):ze=n,Fa.current=null}function mh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=rv(s,n),s!==null){s.flags&=32767,ze=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,ze=null;return}}else if(s=nv(s,n,wt),s!==null){ze=s;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=e}while(n!==null);Ue===0&&(Ue=5)}function qn(e,n,s){var a=he,c=It.transition;try{It.transition=null,he=1,dv(e,n,s,a)}finally{It.transition=c,he=a}return null}function dv(e,n,s,a){do Ar();while(xn!==null);if(le&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(Vg(e,f),e===$e&&(ze=$e=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||uo||(uo=!0,yh(_s,function(){return Ar(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=It.transition,It.transition=null;var m=he;he=1;var _=le;le|=4,Fa.current=null,sv(e,s),sh(s,e),D_(Vl),ks=!!Hl,Vl=Hl=null,e.current=s,ov(s),Fg(),le=_,he=m,It.transition=f}else e.current=s;if(uo&&(uo=!1,xn=e,co=c),f=e.pendingLanes,f===0&&(In=null),Ug(s.stateNode),ut(e,Oe()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(ao)throw ao=!1,e=Ua,Ua=null,e;return co&1&&e.tag!==0&&Ar(),f=e.pendingLanes,f&1?e===Ba?Ai++:(Ai=0,Ba=e):Ai=0,En(),null}function Ar(){if(xn!==null){var e=nd(co),n=It.transition,s=he;try{if(It.transition=null,he=16>e?16:e,xn===null)var a=!1;else{if(e=xn,xn=null,co=0,le&6)throw Error(r(331));var c=le;for(le|=4,W=e.current;W!==null;){var f=W,m=f.child;if(W.flags&16){var _=f.deletions;if(_!==null){for(var E=0;E<_.length;E++){var x=_[E];for(W=x;W!==null;){var L=W;switch(L.tag){case 0:case 11:case 15:Ni(8,L,f)}var M=L.child;if(M!==null)M.return=L,W=M;else for(;W!==null;){L=W;var D=L.sibling,j=L.return;if(eh(L),L===x){W=null;break}if(D!==null){D.return=j,W=D;break}W=j}}}var H=f.alternate;if(H!==null){var V=H.child;if(V!==null){H.child=null;do{var Me=V.sibling;V.sibling=null,V=Me}while(V!==null)}}W=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,W=m;else e:for(;W!==null;){if(f=W,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ni(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,W=k;break e}W=f.return}}var C=e.current;for(W=C;W!==null;){m=W;var I=m.child;if(m.subtreeFlags&2064&&I!==null)I.return=m,W=I;else e:for(m=C;W!==null;){if(_=W,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:so(9,_)}}catch(Q){Ae(_,_.return,Q)}if(_===m){W=null;break e}var F=_.sibling;if(F!==null){F.return=_.return,W=F;break e}W=_.return}}if(le=c,En(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(vs,e)}catch{}a=!0}return a}finally{he=s,It.transition=n}}return!1}function gh(e,n,s){n=Rr(s,n),n=Of(e,n,1),e=Sn(e,n,1),n=rt(),e!==null&&(ni(e,1,n),ut(e,n))}function Ae(e,n,s){if(e.tag===3)gh(e,e,s);else for(;n!==null;){if(n.tag===3){gh(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(In===null||!In.has(a))){e=Rr(s,e),e=Mf(n,e,1),n=Sn(n,e,1),e=rt(),n!==null&&(ni(n,1,e),ut(n,e));break}}n=n.return}}function fv(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=rt(),e.pingedLanes|=e.suspendedLanes&s,$e===e&&(Ye&s)===s&&(Ue===4||Ue===3&&(Ye&130023424)===Ye&&500>Oe()-ba?Yn(e,0):za|=s),ut(e,n)}function _h(e,n){n===0&&(e.mode&1?(n=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):n=1);var s=rt();e=Zt(e,n),e!==null&&(ni(e,n,s),ut(e,s))}function hv(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),_h(e,s)}function pv(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),_h(e,s)}var vh;vh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||st.current)lt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return lt=!1,tv(e,n,s);lt=!!(e.flags&131072)}else lt=!1,ke&&n.flags&1048576&&qd(n,Ws,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;ro(e,n),e=n.pendingProps;var c=wr(n,Xe.current);xr(n,s),c=ma(null,n,a,e,c,s);var f=ga();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ot(a)?(f=!0,Us(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,aa(n),c.updater=to,n.stateNode=c,c._reactInternals=n,Ca(n,a,e,s),n=xa(null,n,a,!0,f,s)):(n.tag=0,ke&&f&&Jl(n),nt(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(ro(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=gv(a),e=At(a,e),c){case 0:n=Ia(null,n,a,e,s);break e;case 1:n=Hf(null,n,a,e,s);break e;case 11:n=Uf(null,n,a,e,s);break e;case 14:n=Bf(null,n,a,At(a.type,e),s);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:At(a,c),Ia(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:At(a,c),Hf(e,n,a,c,s);case 3:e:{if(Vf(n),e===null)throw Error(r(387));a=n.pendingProps,f=n.memoizedState,c=f.element,of(e,n),Ks(n,a,null,s);var m=n.memoizedState;if(a=m.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Rr(Error(r(423)),n),n=Qf(e,n,a,s,c);break e}else if(a!==c){c=Rr(Error(r(424)),n),n=Qf(e,n,a,s,c);break e}else for(yt=vn(n.stateNode.containerInfo.firstChild),vt=n,ke=!0,Dt=null,s=rf(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sr(),a===c){n=tn(e,n,s);break e}nt(e,n,a,s)}n=n.child}return n;case 5:return uf(n),e===null&&ta(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,m=c.children,Ql(a,c)?m=null:f!==null&&Ql(a,f)&&(n.flags|=32),$f(e,n),nt(e,n,m,s),n.child;case 6:return e===null&&ta(n),null;case 13:return Gf(e,n,s);case 4:return ua(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=kr(n,null,a,s):nt(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:At(a,c),Uf(e,n,a,c,s);case 7:return nt(e,n,n.pendingProps,s),n.child;case 8:return nt(e,n,n.pendingProps.children,s),n.child;case 12:return nt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,m=c.value,_e(Vs,a._currentValue),a._currentValue=m,f!==null)if(Pt(f.value,m)){if(f.children===c.children&&!st.current){n=tn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){m=f.child;for(var E=_.firstContext;E!==null;){if(E.context===a){if(f.tag===1){E=en(-1,s&-s),E.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var L=x.pending;L===null?E.next=E:(E.next=L.next,L.next=E),x.pending=E}}f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),oa(f.return,s,n),_.lanes|=s;break}E=E.next}}else if(f.tag===10)m=f.type===n.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(r(341));m.lanes|=s,_=m.alternate,_!==null&&(_.lanes|=s),oa(m,s,n),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===n){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}nt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,xr(n,s),c=St(c),a=a(c),n.flags|=1,nt(e,n,a,s),n.child;case 14:return a=n.type,c=At(a,n.pendingProps),c=At(a.type,c),Bf(e,n,a,c,s);case 15:return jf(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:At(a,c),ro(e,n),n.tag=1,ot(a)?(e=!0,Us(n)):e=!1,xr(n,s),Af(n,a,c),Ca(n,a,c,s),xa(null,n,a,!0,e,s);case 19:return Yf(e,n,s);case 22:return Wf(e,n,s)}throw Error(r(156,n.tag))};function yh(e,n){return Xc(e,n)}function mv(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,n,s,a){return new mv(e,n,s,a)}function Qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gv(e){if(typeof e=="function")return Qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bt)return 11;if(e===jt)return 14}return 2}function Nn(e,n){var s=e.alternate;return s===null?(s=xt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function mo(e,n,s,a,c,f){var m=2;if(a=e,typeof e=="function")Qa(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case Ie:return Xn(s.children,c,f,n);case Fe:m=8,c|=8;break;case Pe:return e=xt(12,s,n,c|2),e.elementType=Pe,e.lanes=f,e;case mt:return e=xt(13,s,n,c),e.elementType=mt,e.lanes=f,e;case Rt:return e=xt(19,s,n,c),e.elementType=Rt,e.lanes=f,e;case De:return go(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:m=10;break e;case Ut:m=9;break e;case Bt:m=11;break e;case jt:m=14;break e;case it:m=16,a=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=xt(m,s,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function Xn(e,n,s,a){return e=xt(7,e,a,n),e.lanes=s,e}function go(e,n,s,a){return e=xt(22,e,a,n),e.elementType=De,e.lanes=s,e.stateNode={isHidden:!1},e}function Ga(e,n,s){return e=xt(6,e,null,n),e.lanes=s,e}function Ka(e,n,s){return n=xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function _v(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ya(e,n,s,a,c,f,m,_,E){return e=new _v(e,n,s,_,E),n===1?(n=1,f===!0&&(n|=8)):n=0,f=xt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(f),e}function vv(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function wh(e){if(!e)return wn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ot(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(ot(s))return Gd(e,s,n)}return n}function Eh(e,n,s,a,c,f,m,_,E){return e=Ya(s,a,!0,e,c,f,m,_,E),e.context=wh(null),s=e.current,a=rt(),c=Tn(s),f=en(a,c),f.callback=n??null,Sn(s,f,c),e.current.lanes=c,ni(e,c,a),ut(e,a),e}function _o(e,n,s,a){var c=n.current,f=rt(),m=Tn(c);return s=wh(s),n.context===null?n.context=s:n.pendingContext=s,n=en(f,m),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Sn(c,n,m),e!==null&&(Mt(e,c,m,f),Gs(e,c,m)),m}function vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ch(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function qa(e,n){Ch(e,n),(e=e.alternate)&&Ch(e,n)}var Sh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}yo.prototype.render=Xa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));_o(e,n,null,null)},yo.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kn(function(){_o(null,e,null,null)}),n[Yt]=null}};function yo(e){this._internalRoot=e}yo.prototype.unstable_scheduleHydration=function(e){if(e){var n=sd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<mn.length&&n!==0&&n<mn[s].priority;s++);mn.splice(s,0,e),s===0&&ad(e)}};function Ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kh(){}function yv(e,n,s,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var x=vo(m);f.call(x)}}var m=Eh(n,a,e,0,null,!1,!1,"",kh);return e._reactRootContainer=m,e[Yt]=m.current,gi(e.nodeType===8?e.parentNode:e),Kn(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var x=vo(E);_.call(x)}}var E=Ya(e,0,!1,null,null,!1,!1,"",kh);return e._reactRootContainer=E,e[Yt]=E.current,gi(e.nodeType===8?e.parentNode:e),Kn(function(){_o(n,E,s,a)}),E}function Eo(e,n,s,a,c){var f=s._reactRootContainer;if(f){var m=f;if(typeof c=="function"){var _=c;c=function(){var E=vo(m);_.call(E)}}_o(n,m,e,c)}else m=yv(s,n,e,c,a);return vo(m)}rd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ti(n.pendingLanes);s!==0&&(Cl(n,s|1),ut(n,Oe()),!(le&6)&&(Dr=Oe()+500,En()))}break;case 13:Kn(function(){var a=Zt(e,1);if(a!==null){var c=rt();Mt(a,e,1,c)}}),qa(e,1)}},Sl=function(e){if(e.tag===13){var n=Zt(e,134217728);if(n!==null){var s=rt();Mt(n,e,134217728,s)}qa(e,134217728)}},id=function(e){if(e.tag===13){var n=Tn(e),s=Zt(e,n);if(s!==null){var a=rt();Mt(s,e,n,a)}qa(e,n)}},sd=function(){return he},od=function(e,n){var s=he;try{return he=e,n()}finally{he=s}},ml=function(e,n,s){switch(n){case"input":if(ll(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=zs(a);if(!c)throw Error(r(90));Pc(a),ll(a,c)}}}break;case"textarea":Mc(e,s);break;case"select":n=s.value,n!=null&&ar(e,!!s.multiple,n,!1)}},Hc=$a,Vc=Kn;var wv={usingClientEntryPoint:!1,Events:[yi,vr,zs,Wc,$c,$a]},Li={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ev={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yc(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{vs=Co.inject(Ev),Wt=Co}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv,ct.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ja(n))throw Error(r(200));return vv(e,n,null,s)},ct.createRoot=function(e,n){if(!Ja(e))throw Error(r(299));var s=!1,a="",c=Sh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Ya(e,1,!1,null,null,s,!1,a,c),e[Yt]=n.current,gi(e.nodeType===8?e.parentNode:e),new Xa(n)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Yc(n),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Kn(e)},ct.hydrate=function(e,n,s){if(!wo(n))throw Error(r(200));return Eo(null,e,n,!0,s)},ct.hydrateRoot=function(e,n,s){if(!Ja(e))throw Error(r(405));var a=s!=null&&s.hydratedSources||null,c=!1,f="",m=Sh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),n=Eh(n,null,e,1,s??null,c,!1,f,m),e[Yt]=n.current,gi(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new yo(n)},ct.render=function(e,n,s){if(!wo(n))throw Error(r(200));return Eo(null,e,n,!1,s)},ct.unmountComponentAtNode=function(e){if(!wo(e))throw Error(r(40));return e._reactRootContainer?(Kn(function(){Eo(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},ct.unstable_batchedUpdates=$a,ct.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!wo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Eo(e,n,s,!1,a)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var Ah;function Nv(){if(Ah)return tu.exports;Ah=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),tu.exports=Rv(),tu.exports}var Lh;function Pv(){if(Lh)return So;Lh=1;var i=Nv();return So.createRoot=i.createRoot,So.hydrateRoot=i.hydrateRoot,So}var Dv=Pv(),N=Wu(),Mi={},Oh;function Av(){if(Oh)return Mi;Oh=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.parse=d,Mi.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,T){const R=new u,P=y.length;if(P<2)return R;const O=(T==null?void 0:T.decode)||w;let b=0;do{const U=y.indexOf("=",b);if(U===-1)break;const Z=y.indexOf(";",b),ie=Z===-1?P:Z;if(U>ie){b=y.lastIndexOf(";",U-1)+1;continue}const me=h(y,b,U),Ne=p(y,U,me),Ie=y.slice(me,Ne);if(R[Ie]===void 0){let Fe=h(y,U+1,ie),Pe=p(y,ie,Fe);const je=O(y.slice(Fe,Pe));R[Ie]=je}b=ie+1}while(b<P);return R}function h(y,T,R){do{const P=y.charCodeAt(T);if(P!==32&&P!==9)return T}while(++T<R);return R}function p(y,T,R){for(;T>R;){const P=y.charCodeAt(--T);if(P!==32&&P!==9)return T+1}return R}function g(y,T,R){const P=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const O=P(T);if(!t.test(O))throw new TypeError(`argument val is invalid: ${T}`);let b=y+"="+O;if(!R)return b;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);b+="; Max-Age="+R.maxAge}if(R.domain){if(!r.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);b+="; Domain="+R.domain}if(R.path){if(!o.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);b+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);b+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(b+="; HttpOnly"),R.secure&&(b+="; Secure"),R.partitioned&&(b+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return b}function w(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return l.call(y)==="[object Date]"}return Mi}Av();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mh="popstate";function Lv(i={}){function t(l,u){let{pathname:d="/",search:h="",hash:p=""}=or(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),yu("",{pathname:d,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let d=l.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");h=g===-1?p:p.slice(0,g)}return h+"#"+(typeof u=="string"?u:Gi(u))}function o(l,u){Tt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Mv(t,r,o,i)}function Re(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Tt(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ov(){return Math.random().toString(36).substring(2,10)}function Fh(i,t){return{usr:i.state,key:i.key,idx:t}}function yu(i,t,r=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?or(t):t,state:r,key:t&&t.key||o||Ov()}}function Gi({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function or(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let o=i.indexOf("?");o>=0&&(t.search=i.substring(o),i=i.substring(0,o)),i&&(t.pathname=i)}return t}function Mv(i,t,r,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,h="POP",p=null,g=w();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function w(){return(d.state||{idx:null}).idx}function v(){h="POP";let O=w(),b=O==null?null:O-g;g=O,p&&p({action:h,location:P.location,delta:b})}function y(O,b){h="PUSH";let U=yu(P.location,O,b);r(U,O),g=w()+1;let Z=Fh(U,g),ie=P.createHref(U);try{d.pushState(Z,"",ie)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;l.location.assign(ie)}u&&p&&p({action:h,location:P.location,delta:1})}function T(O,b){h="REPLACE";let U=yu(P.location,O,b);r(U,O),g=w();let Z=Fh(U,g),ie=P.createHref(U);d.replaceState(Z,"",ie),u&&p&&p({action:h,location:P.location,delta:0})}function R(O){let b=l.location.origin!=="null"?l.location.origin:l.location.href,U=typeof O=="string"?O:Gi(O);return U=U.replace(/ $/,"%20"),Re(b,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,b)}let P={get action(){return h},get location(){return i(l,d)},listen(O){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Mh,v),p=O,()=>{l.removeEventListener(Mh,v),p=null}},createHref(O){return t(l,O)},createURL:R,encodeLocation(O){let b=R(O);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:T,go(O){return d.go(O)}};return P}function Lp(i,t,r="/"){return Fv(i,t,r,!1)}function Fv(i,t,r,o){let l=typeof t=="string"?or(t):t,u=On(l.pathname||"/",r);if(u==null)return null;let d=Op(i);zv(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=Kv(u);h=Qv(d[p],g,o)}return h}function Op(i,t=[],r=[],o=""){let l=(u,d,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Re(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let g=sn([o,p.relativePath]),w=r.concat(p);u.children&&u.children.length>0&&(Re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Op(u.children,t,w,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Hv(g,u.index),routesMeta:w})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,d);else for(let p of Mp(u.path))l(u,d,p)}),t}function Mp(i){let t=i.split("/");if(t.length===0)return[];let[r,...o]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=Mp(o.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...d),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function zv(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:Vv(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var bv=/^:[\w-]+$/,Uv=3,Bv=2,jv=1,Wv=10,$v=-2,zh=i=>i==="*";function Hv(i,t){let r=i.split("/"),o=r.length;return r.some(zh)&&(o+=$v),t&&(o+=Bv),r.filter(l=>!zh(l)).reduce((l,u)=>l+(bv.test(u)?Uv:u===""?jv:Wv),o)}function Vv(i,t){return i.length===t.length&&i.slice(0,-1).every((o,l)=>o===t[l])?i[i.length-1]-t[t.length-1]:0}function Qv(i,t,r=!1){let{routesMeta:o}=i,l={},u="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,w=u==="/"?t:t.slice(u.length)||"/",v=Po({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},w),y=p.route;if(!v&&g&&r&&!o[o.length-1].route.index&&(v=Po({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!v)return null;Object.assign(l,v.params),d.push({params:l,pathname:sn([u,v.pathname]),pathnameBase:Jv(sn([u,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(u=sn([u,v.pathnameBase]))}return d}function Po(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=Gv(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((g,{paramName:w,isOptional:v},y)=>{if(w==="*"){let R=h[y]||"";d=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const T=h[y];return v&&!T?g[w]=void 0:g[w]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function Gv(i,t=!1,r=!0){Tt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function Kv(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tt(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function On(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}function Yv(i,t="/"){let{pathname:r,search:o="",hash:l=""}=typeof i=="string"?or(i):i;return{pathname:r?r.startsWith("/")?r:qv(r,t):t,search:Zv(o),hash:ey(l)}}function qv(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function iu(i,t,r,o){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xv(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fp(i){let t=Xv(i);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function zp(i,t,r,o=!1){let l;typeof i=="string"?l=or(i):(l={...i},Re(!l.pathname||!l.pathname.includes("?"),iu("?","pathname","search",l)),Re(!l.pathname||!l.pathname.includes("#"),iu("#","pathname","hash",l)),Re(!l.search||!l.search.includes("#"),iu("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,h;if(d==null)h=r;else{let v=t.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),v-=1;l.pathname=y.join("/")}h=v>=0?t[v]:"/"}let p=Yv(l,h),g=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||w)&&(p.pathname+="/"),p}var sn=i=>i.join("/").replace(/\/\/+/g,"/"),Jv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ey=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ty(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bp=["POST","PUT","PATCH","DELETE"];new Set(bp);var ny=["GET",...bp];new Set(ny);var $r=N.createContext(null);$r.displayName="DataRouter";var Ko=N.createContext(null);Ko.displayName="DataRouterState";var Up=N.createContext({isTransitioning:!1});Up.displayName="ViewTransition";var ry=N.createContext(new Map);ry.displayName="Fetchers";var iy=N.createContext(null);iy.displayName="Await";var Kt=N.createContext(null);Kt.displayName="Navigation";var rs=N.createContext(null);rs.displayName="Location";var cn=N.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var $u=N.createContext(null);$u.displayName="RouteError";function sy(i,{relative:t}={}){Re(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=N.useContext(Kt),{hash:l,pathname:u,search:d}=ss(i,{relative:t}),h=u;return r!=="/"&&(h=u==="/"?r:sn([r,u])),o.createHref({pathname:h,search:d,hash:l})}function is(){return N.useContext(rs)!=null}function zn(){return Re(is(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(rs).location}var Bp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jp(i){N.useContext(Kt).static||N.useLayoutEffect(i)}function Wp(){let{isDataRoute:i}=N.useContext(cn);return i?vy():oy()}function oy(){Re(is(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext($r),{basename:t,navigator:r}=N.useContext(Kt),{matches:o}=N.useContext(cn),{pathname:l}=zn(),u=JSON.stringify(Fp(o)),d=N.useRef(!1);return jp(()=>{d.current=!0}),N.useCallback((p,g={})=>{if(Tt(d.current,Bp),!d.current)return;if(typeof p=="number"){r.go(p);return}let w=zp(p,JSON.parse(u),l,g.relative==="path");i==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:sn([t,w.pathname])),(g.replace?r.replace:r.push)(w,g.state,g)},[t,r,u,l,i])}N.createContext(null);function ss(i,{relative:t}={}){let{matches:r}=N.useContext(cn),{pathname:o}=zn(),l=JSON.stringify(Fp(r));return N.useMemo(()=>zp(i,JSON.parse(l),o,t==="path"),[i,l,o,t])}function ly(i,t){return $p(i,t)}function $p(i,t,r,o){var b;Re(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Kt),{matches:u}=N.useContext(cn),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let U=w&&w.path||"";Hp(p,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=zn(),y;if(t){let U=typeof t=="string"?or(t):t;Re(g==="/"||((b=U.pathname)==null?void 0:b.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),y=U}else y=v;let T=y.pathname||"/",R=T;if(g!=="/"){let U=g.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=Lp(i,{pathname:R});Tt(w||P!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Tt(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=fy(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:sn([g,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:sn([g,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,r,o);return t&&O?N.createElement(rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},O):O}function ay(){let i=_y(),t=ty(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:l},r):null,d)}var uy=N.createElement(ay,null),cy=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?N.createElement(cn.Provider,{value:this.props.routeContext},N.createElement($u.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dy({routeContext:i,match:t,children:r}){let o=N.useContext($r);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(cn.Provider,{value:i},r)}function fy(i,t=[],r=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Re(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:w,errors:v}=r,y=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||y){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,w)=>{let v,y=!1,T=null,R=null;r&&(v=u&&g.route.id?u[g.route.id]:void 0,T=g.route.errorElement||uy,d&&(h<0&&w===0?(Hp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,R=null):h===w&&(y=!0,R=g.route.hydrateFallbackElement||null)));let P=t.concat(l.slice(0,w+1)),O=()=>{let b;return v?b=T:y?b=R:g.route.Component?b=N.createElement(g.route.Component,null):g.route.element?b=g.route.element:b=p,N.createElement(dy,{match:g,routeContext:{outlet:p,matches:P,isDataRoute:r!=null},children:b})};return r&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?N.createElement(cy,{location:r.location,revalidation:r.revalidation,component:T,error:v,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}function Hu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hy(i){let t=N.useContext($r);return Re(t,Hu(i)),t}function py(i){let t=N.useContext(Ko);return Re(t,Hu(i)),t}function my(i){let t=N.useContext(cn);return Re(t,Hu(i)),t}function Vu(i){let t=my(i),r=t.matches[t.matches.length-1];return Re(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function gy(){return Vu("useRouteId")}function _y(){var o;let i=N.useContext($u),t=py("useRouteError"),r=Vu("useRouteError");return i!==void 0?i:(o=t.errors)==null?void 0:o[r]}function vy(){let{router:i}=hy("useNavigate"),t=Vu("useNavigate"),r=N.useRef(!1);return jp(()=>{r.current=!0}),N.useCallback(async(l,u={})=>{Tt(r.current,Bp),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var bh={};function Hp(i,t,r){!t&&!bh[i]&&(bh[i]=!0,Tt(!1,r))}N.memo(yy);function yy({routes:i,future:t,state:r}){return $p(i,void 0,r,t)}function wu(i){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wy({basename:i="/",children:t=null,location:r,navigationType:o="POP",navigator:l,static:u=!1}){Re(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=or(r));let{pathname:p="/",search:g="",hash:w="",state:v=null,key:y="default"}=r,T=N.useMemo(()=>{let R=On(p,d);return R==null?null:{location:{pathname:R,search:g,hash:w,state:v,key:y},navigationType:o}},[d,p,g,w,v,y,o]);return Tt(T!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:N.createElement(Kt.Provider,{value:h},N.createElement(rs.Provider,{children:t,value:T}))}function Ey({children:i,location:t}){return ly(Eu(i),t)}function Eu(i,t=[]){let r=[];return N.Children.forEach(i,(o,l)=>{if(!N.isValidElement(o))return;let u=[...t,l];if(o.type===N.Fragment){r.push.apply(r,Eu(o.props.children,u));return}Re(o.type===wu,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Eu(o.props.children,u)),r.push(d)}),r}var To="get",Ro="application/x-www-form-urlencoded";function Yo(i){return i!=null&&typeof i.tagName=="string"}function Cy(i){return Yo(i)&&i.tagName.toLowerCase()==="button"}function Sy(i){return Yo(i)&&i.tagName.toLowerCase()==="form"}function ky(i){return Yo(i)&&i.tagName.toLowerCase()==="input"}function Iy(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function xy(i,t){return i.button===0&&(!t||t==="_self")&&!Iy(i)}function Cu(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,r)=>{let o=i[r];return t.concat(Array.isArray(o)?o.map(l=>[r,l]):[[r,o]])},[]))}function Ty(i,t){let r=Cu(i);return t&&t.forEach((o,l)=>{r.has(l)||t.getAll(l).forEach(u=>{r.append(l,u)})}),r}var ko=null;function Ry(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var Ny=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function su(i){return i!=null&&!Ny.has(i)?(Tt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ro}"`),null):i}function Py(i,t){let r,o,l,u,d;if(Sy(i)){let h=i.getAttribute("action");o=h?On(h,t):null,r=i.getAttribute("method")||To,l=su(i.getAttribute("enctype"))||Ro,u=new FormData(i)}else if(Cy(i)||ky(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(o=p?On(p,t):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||To,l=su(i.getAttribute("formenctype"))||su(h.getAttribute("enctype"))||Ro,u=new FormData(h,i),!Ry()){let{name:g,type:w,value:v}=i;if(w==="image"){let y=g?`${g}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else g&&u.append(g,v)}}else{if(Yo(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=To,o=null,l=Ro,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:o,method:r.toLowerCase(),encType:l,formData:u,body:d}}function Qu(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function Dy(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ay(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ly(i,t,r){let o=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await Dy(u,r);return d.links?d.links():[]}return[]}));return zy(o.flat(1).filter(Ay).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Uh(i,t,r,o,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,h=(p,g)=>{var w;return r[g].pathname!==p.pathname||((w=r[g].route.path)==null?void 0:w.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>d(p,g)||h(p,g)):u==="data"?t.filter((p,g)=>{var v;let w=o.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Oy(i,t){return My(i.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function My(i){return[...new Set(i)]}function Fy(i){let t={},r=Object.keys(i).sort();for(let o of r)t[o]=i[o];return t}function zy(i,t){let r=new Set;return new Set(t),i.reduce((o,l)=>{let u=JSON.stringify(Fy(l));return r.has(u)||(r.add(u),o.push({key:u,link:l})),o},[])}function by(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Uy(){let i=N.useContext($r);return Qu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function By(){let i=N.useContext(Ko);return Qu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gu=N.createContext(void 0);Gu.displayName="FrameworkContext";function Vp(){let i=N.useContext(Gu);return Qu(i,"You must render this element inside a <HydratedRouter> element"),i}function jy(i,t){let r=N.useContext(Gu),[o,l]=N.useState(!1),[u,d]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:w,onTouchStart:v}=t,y=N.useRef(null);N.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let P=b=>{b.forEach(U=>{d(U.isIntersecting)})},O=new IntersectionObserver(P,{threshold:.5});return y.current&&O.observe(y.current),()=>{O.disconnect()}}},[i]),N.useEffect(()=>{if(o){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[o]);let T=()=>{l(!0)},R=()=>{l(!1),d(!1)};return r?i!=="intent"?[u,y,{}]:[u,y,{onFocus:Fi(h,T),onBlur:Fi(p,R),onMouseEnter:Fi(g,T),onMouseLeave:Fi(w,R),onTouchStart:Fi(v,T)}]:[!1,y,{}]}function Fi(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function Wy({page:i,...t}){let{router:r}=Uy(),o=N.useMemo(()=>Lp(r.routes,i,r.basename),[r.routes,i,r.basename]);return o?N.createElement(Hy,{page:i,matches:o,...t}):null}function $y(i){let{manifest:t,routeModules:r}=Vp(),[o,l]=N.useState([]);return N.useEffect(()=>{let u=!1;return Ly(i,t,r).then(d=>{u||l(d)}),()=>{u=!0}},[i,t,r]),o}function Hy({page:i,matches:t,...r}){let o=zn(),{manifest:l,routeModules:u}=Vp(),{loaderData:d,matches:h}=By(),p=N.useMemo(()=>Uh(i,t,h,l,o,"data"),[i,t,h,l,o]),g=N.useMemo(()=>Uh(i,t,h,l,o,"assets"),[i,t,h,l,o]),w=N.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let T=new Set,R=!1;if(t.forEach(O=>{var U;let b=l.routes[O.route.id];!b||!b.hasLoader||(!p.some(Z=>Z.route.id===O.route.id)&&O.route.id in d&&((U=u[O.route.id])!=null&&U.shouldRevalidate)||b.hasClientLoader?R=!0:T.add(O.route.id))}),T.size===0)return[];let P=by(i);return R&&T.size>0&&P.searchParams.set("_routes",t.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[d,o,l,p,t,i,u]),v=N.useMemo(()=>Oy(g,l),[g,l]),y=$y(g);return N.createElement(N.Fragment,null,w.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),v.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),y.map(({key:T,link:R})=>N.createElement("link",{key:T,...R})))}function Vy(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Qp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qp&&(window.__reactRouterVersion="7.1.1")}catch{}function Qy({basename:i,children:t,window:r}){let o=N.useRef();o.current==null&&(o.current=Lv({window:r,v5Compat:!0}));let l=o.current,[u,d]=N.useState({action:l.action,location:l.location}),h=N.useCallback(p=>{N.startTransition(()=>d(p))},[d]);return N.useLayoutEffect(()=>l.listen(h),[l,h]),N.createElement(wy,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var Gp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kp=N.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:g,preventScrollReset:w,viewTransition:v,...y},T){let{basename:R}=N.useContext(Kt),P=typeof g=="string"&&Gp.test(g),O,b=!1;if(typeof g=="string"&&P&&(O=g,Qp))try{let Pe=new URL(window.location.href),je=g.startsWith("//")?new URL(Pe.protocol+g):new URL(g),Ut=On(je.pathname,R);je.origin===Pe.origin&&Ut!=null?g=Ut+je.search+je.hash:b=!0}catch{Tt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=sy(g,{relative:l}),[Z,ie,me]=jy(o,y),Ne=qy(g,{replace:d,state:h,target:p,preventScrollReset:w,relative:l,viewTransition:v});function Ie(Pe){t&&t(Pe),Pe.defaultPrevented||Ne(Pe)}let Fe=N.createElement("a",{...y,...me,href:O||U,onClick:b||u?t:Ie,ref:Vy(T,ie),target:p,"data-discover":!P&&r==="render"?"true":void 0});return Z&&!P?N.createElement(N.Fragment,null,Fe,N.createElement(Wy,{page:U})):Fe});Kp.displayName="Link";var Gy=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:l=!1,style:u,to:d,viewTransition:h,children:p,...g},w){let v=ss(d,{relative:g.relative}),y=zn(),T=N.useContext(Ko),{navigator:R,basename:P}=N.useContext(Kt),O=T!=null&&n0(v)&&h===!0,b=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,U=y.pathname,Z=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;r||(U=U.toLowerCase(),Z=Z?Z.toLowerCase():null,b=b.toLowerCase()),Z&&P&&(Z=On(Z,P)||Z);const ie=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let me=U===b||!l&&U.startsWith(b)&&U.charAt(ie)==="/",Ne=Z!=null&&(Z===b||!l&&Z.startsWith(b)&&Z.charAt(b.length)==="/"),Ie={isActive:me,isPending:Ne,isTransitioning:O},Fe=me?t:void 0,Pe;typeof o=="function"?Pe=o(Ie):Pe=[o,me?"active":null,Ne?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let je=typeof u=="function"?u(Ie):u;return N.createElement(Kp,{...g,"aria-current":Fe,className:Pe,ref:w,style:je,to:d,viewTransition:h},typeof p=="function"?p(Ie):p)});Gy.displayName="NavLink";var Ky=N.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:l,state:u,method:d=To,action:h,onSubmit:p,relative:g,preventScrollReset:w,viewTransition:v,...y},T)=>{let R=e0(),P=t0(h,{relative:g}),O=d.toLowerCase()==="get"?"get":"post",b=typeof h=="string"&&Gp.test(h),U=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ie=Z.nativeEvent.submitter,me=(ie==null?void 0:ie.getAttribute("formmethod"))||d;R(ie||Z.currentTarget,{fetcherKey:t,method:me,navigate:r,replace:l,state:u,relative:g,preventScrollReset:w,viewTransition:v})};return N.createElement("form",{ref:T,method:O,action:P,onSubmit:o?p:U,...y,"data-discover":!b&&i==="render"?"true":void 0})});Ky.displayName="Form";function Yy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yp(i){let t=N.useContext($r);return Re(t,Yy(i)),t}function qy(i,{target:t,replace:r,state:o,preventScrollReset:l,relative:u,viewTransition:d}={}){let h=Wp(),p=zn(),g=ss(i,{relative:u});return N.useCallback(w=>{if(xy(w,t)){w.preventDefault();let v=r!==void 0?r:Gi(p)===Gi(g);h(i,{replace:v,state:o,preventScrollReset:l,relative:u,viewTransition:d})}},[p,h,g,r,o,t,i,l,u,d])}function Xy(i){Tt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(Cu(i)),r=N.useRef(!1),o=zn(),l=N.useMemo(()=>Ty(o.search,r.current?null:t.current),[o.search]),u=Wp(),d=N.useCallback((h,p)=>{const g=Cu(typeof h=="function"?h(l):h);r.current=!0,u("?"+g,p)},[u,l]);return[l,d]}var Jy=0,Zy=()=>`__${String(++Jy)}__`;function e0(){let{router:i}=Yp("useSubmit"),{basename:t}=N.useContext(Kt),r=gy();return N.useCallback(async(o,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=Py(o,t);if(l.navigate===!1){let w=l.fetcherKey||Zy();await i.fetch(w,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function t0(i,{relative:t}={}){let{basename:r}=N.useContext(Kt),o=N.useContext(cn);Re(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...ss(i||".",{relative:t})},d=zn();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let w=h.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:sn([r,u.pathname])),Gi(u)}function n0(i,t={}){let r=N.useContext(Up);Re(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Yp("useViewTransitionState"),l=ss(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=On(r.currentLocation.pathname,o)||r.currentLocation.pathname,d=On(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Po(l.pathname,d)!=null||Po(l.pathname,u)!=null}new TextEncoder;function r0(){const i=N.useRef(),t=N.useRef(),r=()=>{window.open(`/talk?roomId=${i.current.value}&userId=${t.current.value}`,"","width=600,height=850")};return Y.jsxs(Y.Fragment,{children:[Y.jsx("h2",{children:"Realtime DB Chatting"}),Y.jsx("hr",{}),"방 이름 :"," ",Y.jsx("input",{type:"text",name:"roomId",id:"",value:"room1",ref:i})," ",Y.jsx("br",{}),Y.jsx("br",{}),"대화명 : ",Y.jsx("input",{type:"text",name:"userId",id:"",ref:t})," ",Y.jsx("br",{}),Y.jsx("br",{}),Y.jsx("button",{onClick:r,children:"채팅 시작"})]})}var Bh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(i,t){if(!i)throw Hr(t)},Hr=function(i){return new Error("Firebase Database ("+qp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},i0=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[o++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],d=i[r++],h=i[r++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(p>>10)),t[o++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],d=i[r++];t[o++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Ku={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,w=u>>2,v=(u&3)<<4|h>>4;let y=(h&15)<<2|g>>6,T=g&63;p||(T=64,d||(y=64)),o.push(r[w],r[v],r[y],r[T])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Xp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):i0(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const g=l<i.length?r[i.charAt(l)]:64;++l;const v=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||v==null)throw new s0;const y=u<<2|h>>4;if(o.push(y),g!==64){const T=h<<4&240|g>>2;if(o.push(T),v!==64){const R=g<<6&192|v;o.push(R)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class s0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jp=function(i){const t=Xp(i);return Ku.encodeByteArray(t,!0)},Do=function(i){return Jp(i).replace(/\./g,"")},Su=function(i){try{return Ku.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(i){return Zp(void 0,i)}function Zp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!l0(r)||(i[r]=Zp(i[r],t[r]));return i}function l0(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=()=>a0().__FIREBASE_DEFAULTS__,c0=()=>{if(typeof process>"u"||typeof Bh>"u")return;const i=Bh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},d0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Su(i[1]);return t&&JSON.parse(t)},em=()=>{try{return u0()||c0()||d0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},f0=i=>{var t,r;return(r=(t=em())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},h0=i=>{const t=f0(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},tm=()=>{var i;return(i=em())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Do(JSON.stringify(r)),Do(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m0())}function g0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rm(){return qp.NODE_ADMIN===!0}function _0(){try{return typeof indexedDB=="object"}catch{return!1}}function v0(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="FirebaseError";class os extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=y0,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,im.prototype.create)}}class im{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?w0(u,o):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new os(l,h,o)}}function w0(i,t){return i.replace(E0,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const E0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(i){return JSON.parse(i)}function Ge(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=function(i){let t={},r={},o={},l="";try{const u=i.split(".");t=Ki(Su(u[0])||""),r=Ki(Su(u[1])||""),l=u[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:l}},C0=function(i){const t=sm(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},S0=function(i){const t=sm(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function br(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function jh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ao(i,t,r){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=t.call(r,i[l],l,i));return o}function ku(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const u=i[l],d=t[l];if(Wh(u)&&Wh(d)){if(!ku(u,d))return!1}else if(u!==d)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function Wh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)o[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)o[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const y=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=(y<<1|y>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,w;for(let v=0;v<80;v++){v<40?v<20?(g=h^u&(d^h),w=1518500249):(g=u^d^h,w=1859775393):v<60?(g=u&d|h&(u|d),w=2400959708):(g=u^d^h,w=3395469782);const y=(l<<5|l>>>27)+g+p+w+o[v]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=y}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<r;){if(d===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<r;)if(u[d]=t.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<r;)if(u[d]=t[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)t[o]=this.chain_[l]>>u&255,++o;return t}}function Yu(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const u=l-55296;o++,z(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;l=65536+(u<<10)+d}l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):l<65536?(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},Xo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(i){return i&&i._delegate?i._delegate:i}class Yi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new qo;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(N0(t))try{this.getOrInitializeService({instanceIdentifier:Jn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});o.resolve(u)}catch{}}}}clearInstance(t=Jn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jn){return this.instances.has(t)}getOptions(t=Jn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);o===h&&d.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:R0(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Jn){return this.component?this.component.multipleInstances?t:Jn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R0(i){return i===Jn?void 0:i}function N0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new T0(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ve||(ve={}));const D0={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},A0=ve.INFO,L0={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},O0=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),l=L0[t];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=A0,this._logHandler=O0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const M0=(i,t)=>t.some(r=>i instanceof r);let $h,Hh;function F0(){return $h||($h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z0(){return Hh||(Hh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,Iu=new WeakMap,am=new WeakMap,ou=new WeakMap,qu=new WeakMap;function b0(i){const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{r(Dn(i.result)),l()},d=()=>{o(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&lm.set(r,i)}).catch(()=>{}),qu.set(t,i),t}function U0(i){if(Iu.has(i))return;const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{r(),l()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Iu.set(i,t)}let xu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Iu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||am.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Dn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function B0(i){xu=i(xu)}function j0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(lu(this),t,...r);return am.set(o,t.sort?t.sort():[t]),Dn(o)}:z0().includes(i)?function(...t){return i.apply(lu(this),t),Dn(lm.get(this))}:function(...t){return Dn(i.apply(lu(this),t))}}function W0(i){return typeof i=="function"?j0(i):(i instanceof IDBTransaction&&U0(i),M0(i,F0())?new Proxy(i,xu):i)}function Dn(i){if(i instanceof IDBRequest)return b0(i);if(ou.has(i))return ou.get(i);const t=W0(i);return t!==i&&(ou.set(i,t),qu.set(t,i)),t}const lu=i=>qu.get(i);function $0(i,t,{blocked:r,upgrade:o,blocking:l,terminated:u}={}){const d=indexedDB.open(i,t),h=Dn(d);return o&&d.addEventListener("upgradeneeded",p=>{o(Dn(d.result),p.oldVersion,p.newVersion,Dn(d.transaction),p)}),r&&d.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const H0=["get","getKey","getAll","getAllKeys","count"],V0=["put","add","delete","clear"],au=new Map;function Vh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(au.get(t))return au.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=V0.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||H0.includes(r)))return;const u=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),l&&p.done]))[0]};return au.set(t,u),u}B0(i=>({...i,get:(t,r,o)=>Vh(t,r)||i.get(t,r,o),has:(t,r)=>!!Vh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(G0(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function G0(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tu="@firebase/app",Qh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new om("@firebase/app"),K0="@firebase/app-compat",Y0="@firebase/analytics-compat",q0="@firebase/analytics",X0="@firebase/app-check-compat",J0="@firebase/app-check",Z0="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",rw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",ow="@firebase/installations",lw="@firebase/installations-compat",aw="@firebase/messaging",uw="@firebase/messaging-compat",cw="@firebase/performance",dw="@firebase/performance-compat",fw="@firebase/remote-config",hw="@firebase/remote-config-compat",pw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",_w="@firebase/vertexai",vw="@firebase/firestore-compat",yw="firebase",ww="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="[DEFAULT]",Ew={[Tu]:"fire-core",[K0]:"fire-core-compat",[q0]:"fire-analytics",[Y0]:"fire-analytics-compat",[J0]:"fire-app-check",[X0]:"fire-app-check-compat",[Z0]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[rw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[ow]:"fire-iid",[lw]:"fire-iid-compat",[aw]:"fire-fcm",[uw]:"fire-fcm-compat",[cw]:"fire-perf",[dw]:"fire-perf-compat",[fw]:"fire-rc",[hw]:"fire-rc-compat",[pw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[vw]:"fire-fst-compat",[_w]:"fire-vertex","fire-js":"fire-js",[yw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,Cw=new Map,Nu=new Map;function Gh(i,t){try{i.container.addComponent(t)}catch(r){ln.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Oo(i){const t=i.name;if(Nu.has(t))return ln.debug(`There were multiple attempts to register component ${t}.`),!1;Nu.set(t,i);for(const r of Lo.values())Gh(r,i);for(const r of Cw.values())Gh(r,i);return!0}function Sw(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new im("app","Firebase",kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=ww;function um(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Ru,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw An.create("bad-app-name",{appName:String(l)});if(r||(r=tm()),!r)throw An.create("no-options");const u=Lo.get(l);if(u){if(ku(r,u.options)&&ku(o,u.config))return u;throw An.create("duplicate-app",{appName:l})}const d=new P0(l);for(const p of Nu.values())d.addComponent(p);const h=new Iw(r,o,d);return Lo.set(l,h),h}function Tw(i=Ru){const t=Lo.get(i);if(!t&&i===Ru&&tm())return um();if(!t)throw An.create("no-app",{appName:i});return t}function Or(i,t,r){var o;let l=(o=Ew[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${t}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ln.warn(h.join(" "));return}Oo(new Yi(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firebase-heartbeat-database",Nw=1,qi="firebase-heartbeat-store";let uu=null;function cm(){return uu||(uu=$0(Rw,Nw,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(qi)}catch(r){console.warn(r)}}}}).catch(i=>{throw An.create("idb-open",{originalErrorMessage:i.message})})),uu}async function Pw(i){try{const r=(await cm()).transaction(qi),o=await r.objectStore(qi).get(dm(i));return await r.done,o}catch(t){if(t instanceof os)ln.warn(t.message);else{const r=An.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ln.warn(r.message)}}}async function Kh(i,t){try{const o=(await cm()).transaction(qi,"readwrite");await o.objectStore(qi).put(t,dm(i)),await o.done}catch(r){if(r instanceof os)ln.warn(r.message);else{const o=An.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ln.warn(o.message)}}}function dm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=1024,Aw=30*24*60*60*1e3;class Lw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Mw(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Yh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=Aw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){ln.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Yh(),{heartbeatsToSend:o,unsentEntries:l}=Ow(this._heartbeatsCache.heartbeats),u=Do(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return ln.warn(r),""}}}function Yh(){return new Date().toISOString().substring(0,10)}function Ow(i,t=Dw){const r=[];let o=i.slice();for(const l of i){const u=r.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),qh(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),qh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Mw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _0()?v0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Pw(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function qh(i){return Do(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i){Oo(new Yi("platform-logger",t=>new Q0(t),"PRIVATE")),Oo(new Yi("heartbeat",t=>new Lw(t),"PRIVATE")),Or(Tu,Qh,i),Or(Tu,Qh,"esm2017"),Or("fire-js","")}Fw("");var zw="firebase",bw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(zw,bw,"app");var Xh={};const Jh="@firebase/database",Zh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm="";function Uw(i){fm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ge(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Ki(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Bw(t)}}catch{}return new jw},er=hm("localStorage"),Ww=hm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new om("@firebase/database"),$w=function(){let i=1;return function(){return i++}}(),pm=function(i){const t=x0(i),r=new I0;r.update(t);const o=r.digest();return Ku.encodeByteArray(o)},ls=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=ls.apply(null,o):typeof o=="object"?t+=Ge(o):t+=o,t+=" "}return t};let Wi=null,ep=!0;const Hw=function(i,t){z(!t,"Can't turn on custom loggers persistently."),Mr.logLevel=ve.VERBOSE,Wi=Mr.log.bind(Mr)},tt=function(...i){if(ep===!0&&(ep=!1,Wi===null&&Ww.get("logging_enabled")===!0&&Hw()),Wi){const t=ls.apply(null,i);Wi(t)}},as=function(i){return function(...t){tt(i,...t)}},Pu=function(...i){const t="FIREBASE INTERNAL ERROR: "+ls(...i);Mr.error(t)},an=function(...i){const t=`FIREBASE FATAL ERROR: ${ls(...i)}`;throw Mr.error(t),new Error(t)},ht=function(...i){const t="FIREBASE WARNING: "+ls(...i);Mr.warn(t)},Vw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mm=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Qw=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ur="[MIN_NAME]",nr="[MAX_NAME]",Qr=function(i,t){if(i===t)return 0;if(i===Ur||t===nr)return-1;if(t===Ur||i===nr)return 1;{const r=tp(i),o=tp(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Gw=function(i,t){return i===t?0:i<t?-1:1},zi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ge(t))},Xu=function(i){if(typeof i!="object"||i===null)return Ge(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ge(t[o]),r+=":",r+=Xu(i[t[o]]);return r+="}",r},gm=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let l=0;l<r;l+=t)l+t>r?o.push(i.substring(l,r)):o.push(i.substring(l,l+t));return o};function pt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const _m=function(i){z(!mm(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let l,u,d,h,p;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),u=h+o,d=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(p=r;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=t;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const w=g.join("");let v="";for(p=0;p<64;p+=8){let y=parseInt(w.substr(p,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},Kw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function qw(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Xw=new RegExp("^-?(0*)\\d{1,10}$"),Jw=-2147483648,Zw=2147483647,tp=function(i){if(Xw.test(i)){const t=Number(i);if(t>=Jw&&t<=Zw)return t}return null},Gr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ht("Exception was thrown by user callback.",r),t},Math.floor(0))}},eE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$i=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(t)}}class No{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}No.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="5",vm="v",ym="s",wm="r",Em="f",Cm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sm="ls",km="p",Du="ac",Im="websocket",xm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,r,o,l,u=!1,d="",h=!1,p=!1){this.secure=r,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=er.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&er.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function rE(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Rm(i,t,r){z(typeof t=="string","typeof type must == string"),z(typeof r=="object","typeof params must == object");let o;if(t===Im)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===xm)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);rE(i)&&(r.ns=i.namespace);const l=[];return pt(r,(u,d)=>{l.push(u+"="+d)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.counters_={}}incrementCounter(t,r=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return o0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu={},du={};function Zu(i){const t=i.toString();return cu[t]||(cu[t]=new iE),cu[t]}function sE(i,t){const r=i.toString();return du[r]||(du[r]=t()),du[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Gr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="start",lE="close",aE="pLPCommand",uE="pRTLPCB",Nm="id",Pm="pw",Dm="ser",cE="cb",dE="seg",fE="ts",hE="d",pE="dframe",Am=1870,Lm=30,mE=Am-Lm,gE=25e3,_E=3e4;class Lr{constructor(t,r,o,l,u,d,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=as(t),this.stats_=Zu(r),this.urlFn=p=>(this.appCheckToken&&(p[Du]=this.appCheckToken),Rm(r,xm,p))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new oE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_E)),Qw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ec((...u)=>{const[d,h,p,g,w]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===np)this.id=h,this.password=p;else if(d===lE)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[np]="t",o[Dm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[cE]=this.scriptTagHolder.uniqueCallbackIdentifier),o[vm]=Ju,this.transportSessionId&&(o[ym]=this.transportSessionId),this.lastSessionId&&(o[Sm]=this.lastSessionId),this.applicationId&&(o[km]=this.applicationId),this.appCheckToken&&(o[Du]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cm.test(location.hostname)&&(o[wm]=Em);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lr.forceAllow_=!0}static forceDisallow(){Lr.forceDisallow_=!0}static isAvailable(){return Lr.forceAllow_?!0:!Lr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Kw()&&!Yw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ge(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Jp(r),l=gm(o,mE);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[pE]="t",o[Nm]=t,o[Pm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ge(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class ec{constructor(t,r,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$w(),window[aE+this.uniqueCallbackIdentifier]=t,window[uE+this.uniqueCallbackIdentifier]=r,this.myIFrame=ec.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){tt("frame writing exception"),h.stack&&tt(h.stack),tt(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||tt("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Nm]=this.myID,t[Pm]=this.myPW,t[Dm]=this.currentSerial;let r=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Lm+o.length<=Am;){const d=this.pendingSegs.shift();o=o+"&"+dE+l+"="+d.seg+"&"+fE+l+"="+d.ts+"&"+hE+l+"="+d.d,l++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(o,Math.floor(gE)),u=()=>{clearTimeout(l),o()};this.addTag(t,u)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{tt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=16384,yE=45e3;let Mo=null;typeof MozWebSocket<"u"?Mo=MozWebSocket:typeof WebSocket<"u"&&(Mo=WebSocket);class Gt{constructor(t,r,o,l,u,d,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=as(this.connId),this.stats_=Zu(r),this.connURL=Gt.connectionURL_(r,d,h,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,u){const d={};return d[vm]=Ju,typeof location<"u"&&location.hostname&&Cm.test(location.hostname)&&(d[wm]=Em),r&&(d[ym]=r),o&&(d[Sm]=o),l&&(d[Du]=l),u&&(d[km]=u),Rm(t,Im,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,er.set("previous_websocket_failure",!0);try{let o;rm(),this.mySock=new Mo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Mo!==null&&!Gt.forceDisallow_}static previouslyFailed(){return er.isInMemoryStorage||er.get("previous_websocket_failure")===!0}markConnectionHealthy(){er.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Ki(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ge(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=gm(r,vE);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yE))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{static get ALL_TRANSPORTS(){return[Lr,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Gt.isAvailable();let o=r&&!Gt.previouslyFailed();if(t.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{const l=this.transports_=[];for(const u of Xi.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Xi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=6e4,EE=5e3,CE=10*1024,SE=100*1024,fu="t",rp="d",kE="s",ip="r",IE="e",sp="o",op="a",lp="n",ap="p",xE="h";class TE{constructor(t,r,o,l,u,d,h,p,g,w){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=as("c:"+this.id+":"),this.transportManager_=new Xi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=$i(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fu in t){const r=t[fu];r===op?this.upgradeIfSecondaryHealthy_():r===ip?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===sp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=zi("t",t),o=zi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ap,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:op,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=zi("t",t),o=zi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=zi(fu,t);if(rp in t){const o=t[rp];if(r===xE){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===lp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===kE?this.onConnectionShutdown_(o):r===ip?this.onReset_(o):r===IE?Pu("Server Error: "+o):r===sp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ju!==o&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),$i(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$i(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ap,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{put(t,r,o,l){}merge(t,r,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const l=this.getInitialEvent(t);l&&r.apply(o,l)}off(t,r,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!o||o===l[u].context)){l.splice(u,1);return}}validateEventType_(t){z(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Mm{static getInstance(){return new Fo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=32,cp=768;class pe{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function de(){return new pe("")}function ne(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Mn(i){return i.pieces_.length-i.pieceNum_}function ye(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new pe(i.pieces_,t)}function Fm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function RE(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function zm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function bm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new pe(t,0)}function Be(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof pe)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&r.push(o[l])}return new pe(r,0)}function oe(i){return i.pieceNum_>=i.pieces_.length}function dt(i,t){const r=ne(i),o=ne(t);if(r===null)return t;if(r===o)return dt(ye(i),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function tc(i,t){if(Mn(i)!==Mn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Ft(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Mn(i)>Mn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class NE{constructor(t,r){this.errorPrefix_=r,this.parts_=zm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Xo(this.parts_[o]);Um(this)}}function PE(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Xo(t),Um(i)}function DE(i){const t=i.parts_.pop();i.byteLength_-=Xo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Um(i){if(i.byteLength_>cp)throw new Error(i.errorPrefix_+"has a key path longer than "+cp+" bytes ("+i.byteLength_+").");if(i.parts_.length>up)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+up+") or object contains a cycle "+Zn(i))}function Zn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Mm{static getInstance(){return new nc}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=1e3,AE=60*5*1e3,dp=30*1e3,LE=1.3,OE=3e4,ME="server_kill",fp=3;class on extends Om{constructor(t,r,o,l,u,d,h,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=on.nextPersistentConnectionId_++,this.log_=as("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bi,this.maxReconnectDelay_=AE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!rm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Fo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,u={r:l,a:t,b:r};this.log_(Ge(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new qo,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(t,r,o,l){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const u={p:o},d="q";t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,g=h.s;on.warnOnListenWarnings_(p,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&dn(t,"w")){const o=br(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||S0(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=C0(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const u=l.s,d=l.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const u={p:t},d="n";l&&(u.q=o,u.t=l),this.sendRequest(d,u)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const u={p:r,d:o};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,u){this.initConnection_();const d={p:r,d:o};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const u=o.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ge(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Pu("Unrecognized action received from server: "+Ge(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OE&&(this.reconnectDelay_=bi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+on.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,o())},g=function(v){z(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,h=new TE(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,T=>{ht(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(ME)},u))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&ht(v),p())}}}interrupt(t){tt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){tt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],jh(this.interruptReasons_)&&(this.reconnectDelay_=bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(u=>Xu(u)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new pe(t).toString();let l;if(this.listens.has(o)){const u=this.listens.get(o);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){tt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fp&&(this.reconnectDelay_=dp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){tt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+fm.replace(/\./g,"-")]=1,nm()?t["framework.cordova"]=1:g0()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Fo.getInstance().currentlyOnline();return jh(this.interruptReasons_)&&t}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new re(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new re(Ur,t),l=new re(Ur,r);return this.compare(o,l)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io;class Bm extends Jo{static get __EMPTY_NODE(){return Io}static set __EMPTY_NODE(t){Io=t}compare(t,r){return Qr(t.name,r.name)}isDefinedOn(t){throw Hr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return re.MIN}maxPost(){return new re(nr,Io)}makePost(t,r){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new re(t,Io)}toString(){return".key"}}const Fr=new Bm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,r,o,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,l&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qe{constructor(t,r,o,l,u){this.key=t,this.value=r,this.color=o??Qe.RED,this.left=l??ft.EMPTY_NODE,this.right=u??ft.EMPTY_NODE}copy(t,r,o,l,u){return new Qe(t??this.key,r??this.value,o??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const u=o(t,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(t,r,o),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ft.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class FE{copy(t,r,o,l,u){return this}insert(t,r,o){return new Qe(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(t,r=ft.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ft(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ft(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,l=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new xo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new xo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new xo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new xo(this.root_,null,this.comparator_,!0,t)}}ft.EMPTY_NODE=new FE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i,t){return Qr(i.name,t.name)}function rc(i,t){return Qr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;function bE(i){Au=i}const jm=function(i){return typeof i=="number"?"number:"+_m(i):"string:"+i},Wm=function(i){if(i.isLeafNode()){const t=i.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else z(i===Au||i.isEmpty(),"priority of unexpected type.");z(i===Au||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp;class Ve{static set __childrenNodeConstructor(t){hp=t}static get __childrenNodeConstructor(){return hp}constructor(t,r=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ve(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:ne(t)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ne(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(z(o!==".priority"||Mn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=_m(this.value_):t+=this.value_,this.lazyHash_=pm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ve.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ve.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=Ve.VALUE_TYPE_ORDER.indexOf(r),u=Ve.VALUE_TYPE_ORDER.indexOf(o);return z(l>=0,"Unknown leaf type: "+r),z(u>=0,"Unknown leaf type: "+o),l===u?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m,Hm;function UE(i){$m=i}function BE(i){Hm=i}class jE extends Jo{compare(t,r){const o=t.node.getPriority(),l=r.node.getPriority(),u=o.compareTo(l);return u===0?Qr(t.name,r.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return re.MIN}maxPost(){return new re(nr,new Ve("[PRIORITY-POST]",Hm))}makePost(t,r){const o=$m(t);return new re(r,new Ve("[PRIORITY-POST]",o))}toString(){return".priority"}}const Le=new jE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=Math.log(2);class $E{constructor(t){const r=u=>parseInt(Math.log(u)/WE,10),o=u=>parseInt(Array(u+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const zo=function(i,t,r,o){i.sort(t);const l=function(p,g){const w=g-p;let v,y;if(w===0)return null;if(w===1)return v=i[p],y=r?r(v):v,new Qe(y,v.node,Qe.BLACK,null,null);{const T=parseInt(w/2,10)+p,R=l(p,T),P=l(T+1,g);return v=i[T],y=r?r(v):v,new Qe(y,v.node,Qe.BLACK,R,P)}},u=function(p){let g=null,w=null,v=i.length;const y=function(R,P){const O=v-R,b=v;v-=R;const U=l(O+1,b),Z=i[O],ie=r?r(Z):Z;T(new Qe(ie,Z.node,P,null,U))},T=function(R){g?(g.left=R,g=R):(w=R,g=R)};for(let R=0;R<p.count;++R){const P=p.nextBitIsOne(),O=Math.pow(2,p.count-(R+1));P?y(O,Qe.BLACK):(y(O,Qe.BLACK),y(O,Qe.RED))}return w},d=new $E(i.length),h=u(d);return new ft(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;const Ui={};class rn{static get Default(){return z(Le,"ChildrenNode.ts has not been loaded"),hu=hu||new rn({".priority":Ui},{".priority":Le}),hu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=br(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ft?r:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,r){z(t!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const u=r.getIterator(re.Wrap);let d=u.getNext();for(;d;)l=l||t.isDefinedOn(d.node),o.push(d),d=u.getNext();let h;l?h=zo(o,t.getCompare()):h=Ui;const p=t.toString(),g=Object.assign({},this.indexSet_);g[p]=t;const w=Object.assign({},this.indexes_);return w[p]=h,new rn(w,g)}addToIndexes(t,r){const o=Ao(this.indexes_,(l,u)=>{const d=br(this.indexSet_,u);if(z(d,"Missing index implementation for "+u),l===Ui)if(d.isDefinedOn(t.node)){const h=[],p=r.getIterator(re.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),zo(h,d.getCompare())}else return Ui;else{const h=r.get(t.name);let p=l;return h&&(p=p.remove(new re(t.name,h))),p.insert(t,t.node)}});return new rn(o,this.indexSet_)}removeFromIndexes(t,r){const o=Ao(this.indexes_,l=>{if(l===Ui)return l;{const u=r.get(t.name);return u?l.remove(new re(t.name,u)):l}});return new rn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi;class X{static get EMPTY_NODE(){return Bi||(Bi=new X(new ft(rc),null,rn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Wm(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bi}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Bi:r}}getChild(t){const r=ne(t);return r===null?this:this.getImmediateChild(r).getChild(ye(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(z(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new re(t,r);let l,u;r.isEmpty()?(l=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(o,this.children_));const d=l.isEmpty()?Bi:this.priorityNode_;return new X(l,d,u)}}updateChild(t,r){const o=ne(t);if(o===null)return r;{z(ne(t)!==".priority"||Mn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(ye(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,u=!0;if(this.forEachChild(Le,(d,h)=>{r[d]=h.val(t),o++,u&&X.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!t&&u&&l<2*o){const d=[];for(const h in r)d[h]=r[h];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+jm(this.getPriority().val())+":"),this.forEachChild(Le,(r,o)=>{const l=o.hash();l!==""&&(t+=":"+r+":"+l)}),this.lazyHash_=t===""?"":pm(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const u=l.getPredecessorKey(new re(t,r));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new re(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new re(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,re.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,re.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,t)>0;)l.getNext(),u=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===us?-1:0}withIndex(t){if(t===Fr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Fr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Le),l=r.getIterator(Le);let u=o.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=o.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Fr?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HE extends X{constructor(){super(new ft(rc),X.EMPTY_NODE,rn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const us=new HE;Object.defineProperties(re,{MIN:{value:new re(Ur,X.EMPTY_NODE)},MAX:{value:new re(nr,us)}});Bm.__EMPTY_NODE=X.EMPTY_NODE;Ve.__childrenNodeConstructor=X;bE(us);BE(us);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=!0;function qe(i,t=null){if(i===null)return X.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Ve(r,qe(t))}if(!(i instanceof Array)&&VE){const r=[];let o=!1;if(pt(i,(d,h)=>{if(d.substring(0,1)!=="."){const p=qe(h);p.isEmpty()||(o=o||!p.getPriority().isEmpty(),r.push(new re(d,p)))}}),r.length===0)return X.EMPTY_NODE;const u=zo(r,zE,d=>d.name,rc);if(o){const d=zo(r,Le.getCompare());return new X(u,qe(t),new rn({".priority":d},{".priority":Le}))}else return new X(u,qe(t),rn.Default)}else{let r=X.EMPTY_NODE;return pt(i,(o,l)=>{if(dn(i,o)&&o.substring(0,1)!=="."){const u=qe(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(o,u))}}),r.updatePriority(qe(t))}}UE(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends Jo{constructor(t){super(),this.indexPath_=t,z(!oe(t)&&ne(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),l=this.extractChild(r.node),u=o.compareTo(l);return u===0?Qr(t.name,r.name):u}makePost(t,r){const o=qe(t),l=X.EMPTY_NODE.updateChild(this.indexPath_,o);return new re(r,l)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,us);return new re(nr,t)}toString(){return zm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends Jo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Qr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(t,r){const o=qe(t);return new re(r,o)}toString(){return".value"}}const KE=new GE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(i){return{type:"value",snapshotNode:i}}function Br(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Ji(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Zi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function YE(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t){this.index_=t}updateChild(t,r,o,l,u,d){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?t.hasChild(r)?d.trackChildChange(Ji(r,h)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Br(r,o)):d.trackChildChange(Zi(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Le,(l,u)=>{r.hasChild(l)||o.trackChildChange(Ji(l,u))}),r.isLeafNode()||r.forEachChild(Le,(l,u)=>{if(t.hasChild(l)){const d=t.getImmediateChild(l);d.equals(u)||o.trackChildChange(Zi(l,u,d))}else o.trackChildChange(Br(l,u))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.indexedFilter_=new ic(t.getIndex()),this.index_=t.getIndex(),this.startPost_=es.getStartPost_(t),this.endPost_=es.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,l,u,d){return this.matches(new re(r,o))||(o=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,l,u,d)}updateFullNode(t,r,o){r.isLeafNode()&&(r=X.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(X.EMPTY_NODE);const u=this;return r.forEachChild(Le,(d,h)=>{u.matches(new re(d,h))||(l=l.updateImmediateChild(d,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new es(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,l,u,d){return this.rangedFilter_.matches(new re(r,o))||(o=X.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,l,u,d):this.fullLimitUpdateChild_(t,r,o,u,d)}updateFullNode(t,r,o){let l;if(r.isLeafNode()||r.isEmpty())l=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=X.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(X.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,l,u){let d;if(this.reverse_){const v=this.index_.getCompare();d=(y,T)=>v(T,y)}else d=this.index_.getCompare();const h=t;z(h.numChildren()===this.limit_,"");const p=new re(r,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(h.hasChild(r)){const v=h.getImmediateChild(r);let y=l.getChildAfterChild(this.index_,g,this.reverse_);for(;y!=null&&(y.name===r||h.hasChild(y.name));)y=l.getChildAfterChild(this.index_,y,this.reverse_);const T=y==null?1:d(y,p);if(w&&!o.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(Zi(r,o,v)),h.updateImmediateChild(r,o);{u!=null&&u.trackChildChange(Ji(r,v));const P=h.updateImmediateChild(r,X.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u!=null&&u.trackChildChange(Br(y.name,y.node)),P.updateImmediateChild(y.name,y.node)):P}}else return o.isEmpty()?t:w&&d(g,p)>=0?(u!=null&&(u.trackChildChange(Ji(g.name,g.node)),u.trackChildChange(Br(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(g.name,X.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const t=new sc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function XE(i){return i.loadsAllData()?new ic(i.getIndex()):i.hasLimit()?new qE(i):new es(i)}function pp(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Le?r="$priority":i.index_===KE?r="$value":i.index_===Fr?r="$key":(z(i.index_ instanceof QE,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ge(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ge(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ge(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ge(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ge(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function mp(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Le&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Om{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=as("p:rest:"),this.listens_={}}listen(t,r,o,l){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=bo.getListenId_(t,o),h={};this.listens_[d]=h;const p=pp(t._queryParams);this.restRequest_(u+".json",p,(g,w)=>{let v=w;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(u,v,!1,o),br(this.listens_,d)===h){let y;g?g===401?y="permission_denied":y="rest_error:"+g:y="ok",l(y,null)}})}unlisten(t,r){const o=bo.getListenId_(t,r);delete this.listens_[o]}get(t){const r=pp(t._queryParams),o=t._path.toString(),l=new qo;return this.restRequest_(o+".json",r,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+k0(r);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Ki(h.responseText)}catch{ht("Failed to parse JSON response for "+d+": "+h.responseText)}o(null,p)}else h.status!==401&&h.status!==404&&ht("Got unsuccessful REST response for "+d+" Status: "+h.status),o(h.status);o=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(){return{value:null,children:new Map}}function Qm(i,t,r){if(oe(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ne(t);i.children.has(o)||i.children.set(o,Uo());const l=i.children.get(o);t=ye(t),Qm(l,t,r)}}function Lu(i,t,r){i.value!==null?r(t,i.value):ZE(i,(o,l)=>{const u=new pe(t.toString()+"/"+o);Lu(l,u,r)})}function ZE(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&pt(this.last_,(o,l)=>{r[o]=r[o]-l}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=10*1e3,tC=30*1e3,nC=5*60*1e3;class rC{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new eC(t);const o=gp+(tC-gp)*Math.random();$i(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;pt(t,(l,u)=>{u>0&&dn(this.statsToReport_,l)&&(r[l]=u,o=!0)}),o&&this.server_.reportStats(r),$i(this.reportStats_.bind(this),Math.floor(Math.random()*2*nC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zt||(zt={}));function Gm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function oc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lc(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=zt.ACK_USER_WRITE,this.source=Gm()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new pe(t));return new Bo(de(),r,this.revert)}}else return z(ne(this.path)===t,"operationForChild called for unrelated child."),new Bo(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,r){this.source=t,this.path=r,this.type=zt.LISTEN_COMPLETE}operationForChild(t){return oe(this.path)?new ts(this.source,de()):new ts(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=zt.OVERWRITE}operationForChild(t){return oe(this.path)?new rr(this.source,de(),this.snap.getImmediateChild(t)):new rr(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=zt.MERGE}operationForChild(t){if(oe(this.path)){const r=this.children.subtree(new pe(t));return r.isEmpty()?null:r.value?new rr(this.source,de(),r.value):new ns(this.source,de(),r)}else return z(ne(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ns(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const r=ne(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sC(i,t,r,o){const l=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(YE(d.childName,d.snapshotNode))}),ji(i,l,"child_removed",t,o,r),ji(i,l,"child_added",t,o,r),ji(i,l,"child_moved",u,o,r),ji(i,l,"child_changed",t,o,r),ji(i,l,"value",t,o,r),l}function ji(i,t,r,o,l,u){const d=o.filter(h=>h.type===r);d.sort((h,p)=>lC(i,h,p)),d.forEach(h=>{const p=oC(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,i.query_))})})}function oC(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function lC(i,t,r){if(t.childName==null||r.childName==null)throw Hr("Should only compare child_ events.");const o=new re(t.childName,t.snapshotNode),l=new re(r.childName,r.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(i,t){return{eventCache:i,serverCache:t}}function Hi(i,t,r,o){return Zo(new ir(t,r,o),i.serverCache)}function Km(i,t,r,o){return Zo(i.eventCache,new ir(t,r,o))}function Ou(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function sr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu;const aC=()=>(pu||(pu=new ft(Gw)),pu);class Ce{static fromObject(t){let r=new Ce(null);return pt(t,(o,l)=>{r=r.set(new pe(o),l)}),r}constructor(t,r=aC()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:de(),value:this.value};if(oe(t))return null;{const o=ne(t),l=this.children.get(o);if(l!==null){const u=l.findRootMostMatchingPathAndValue(ye(t),r);return u!=null?{path:Be(new pe(o),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const r=ne(t),o=this.children.get(r);return o!==null?o.subtree(ye(t)):new Ce(null)}}set(t,r){if(oe(t))return new Ce(r,this.children);{const o=ne(t),u=(this.children.get(o)||new Ce(null)).set(ye(t),r),d=this.children.insert(o,u);return new Ce(this.value,d)}}remove(t){if(oe(t))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const r=ne(t),o=this.children.get(r);if(o){const l=o.remove(ye(t));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Ce(null):new Ce(this.value,u)}else return this}}get(t){if(oe(t))return this.value;{const r=ne(t),o=this.children.get(r);return o?o.get(ye(t)):null}}setTree(t,r){if(oe(t))return r;{const o=ne(t),u=(this.children.get(o)||new Ce(null)).setTree(ye(t),r);let d;return u.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,u),new Ce(this.value,d)}}fold(t){return this.fold_(de(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((l,u)=>{o[l]=u.fold_(Be(t,l),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,de(),r)}findOnPath_(t,r,o){const l=this.value?o(r,this.value):!1;if(l)return l;if(oe(t))return null;{const u=ne(t),d=this.children.get(u);return d?d.findOnPath_(ye(t),Be(r,u),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,de(),r)}foreachOnPath_(t,r,o){if(oe(t))return this;{this.value&&o(r,this.value);const l=ne(t),u=this.children.get(l);return u?u.foreachOnPath_(ye(t),Be(r,l),o):new Ce(null)}}foreach(t){this.foreach_(de(),t)}foreach_(t,r){this.children.inorderTraversal((o,l)=>{l.foreach_(Be(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.writeTree_=t}static empty(){return new bt(new Ce(null))}}function Vi(i,t,r){if(oe(t))return new bt(new Ce(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let u=o.value;const d=dt(l,t);return u=u.updateChild(d,r),new bt(i.writeTree_.set(l,u))}else{const l=new Ce(r),u=i.writeTree_.setTree(t,l);return new bt(u)}}}function _p(i,t,r){let o=i;return pt(r,(l,u)=>{o=Vi(o,Be(t,l),u)}),o}function vp(i,t){if(oe(t))return bt.empty();{const r=i.writeTree_.setTree(t,new Ce(null));return new bt(r)}}function Mu(i,t){return lr(i,t)!=null}function lr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(dt(r.path,t)):null}function yp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Le,(o,l)=>{t.push(new re(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new re(o,l.value))}),t}function Ln(i,t){if(oe(t))return i;{const r=lr(i,t);return r!=null?new bt(new Ce(r)):new bt(i.writeTree_.subtree(t))}}function Fu(i){return i.writeTree_.isEmpty()}function jr(i,t){return Ym(de(),i.writeTree_,t)}function Ym(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,u)=>{l===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),o=u.value):r=Ym(Be(i,l),u,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Be(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(i,t){return Zm(t,i)}function uC(i,t,r,o,l){z(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:l}),l&&(i.visibleWrites=Vi(i.visibleWrites,t,r)),i.lastWriteId=o}function cC(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function dC(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);z(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let l=o.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=r&&fC(h,o.path)?l=!1:Ft(o.path,h.path)&&(u=!0)),d--}if(l){if(u)return hC(i),!0;if(o.snap)i.visibleWrites=vp(i.visibleWrites,o.path);else{const h=o.children;pt(h,p=>{i.visibleWrites=vp(i.visibleWrites,Be(o.path,p))})}return!0}else return!1}function fC(i,t){if(i.snap)return Ft(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Ft(Be(i.path,r),t))return!0;return!1}function hC(i){i.visibleWrites=qm(i.allWrites,pC,de()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function pC(i){return i.visible}function qm(i,t,r){let o=bt.empty();for(let l=0;l<i.length;++l){const u=i[l];if(t(u)){const d=u.path;let h;if(u.snap)Ft(r,d)?(h=dt(r,d),o=Vi(o,h,u.snap)):Ft(d,r)&&(h=dt(d,r),o=Vi(o,de(),u.snap.getChild(h)));else if(u.children){if(Ft(r,d))h=dt(r,d),o=_p(o,h,u.children);else if(Ft(d,r))if(h=dt(d,r),oe(h))o=_p(o,de(),u.children);else{const p=br(u.children,ne(h));if(p){const g=p.getChild(ye(h));o=Vi(o,de(),g)}}}else throw Hr("WriteRecord should have .snap or .children")}}return o}function Xm(i,t,r,o,l){if(!o&&!l){const u=lr(i.visibleWrites,t);if(u!=null)return u;{const d=Ln(i.visibleWrites,t);if(Fu(d))return r;if(r==null&&!Mu(d,de()))return null;{const h=r||X.EMPTY_NODE;return jr(d,h)}}}else{const u=Ln(i.visibleWrites,t);if(!l&&Fu(u))return r;if(!l&&r==null&&!Mu(u,de()))return null;{const d=function(g){return(g.visible||l)&&(!o||!~o.indexOf(g.writeId))&&(Ft(g.path,t)||Ft(t,g.path))},h=qm(i.allWrites,d,t),p=r||X.EMPTY_NODE;return jr(h,p)}}}function mC(i,t,r){let o=X.EMPTY_NODE;const l=lr(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Le,(u,d)=>{o=o.updateImmediateChild(u,d)}),o;if(r){const u=Ln(i.visibleWrites,t);return r.forEachChild(Le,(d,h)=>{const p=jr(Ln(u,new pe(d)),h);o=o.updateImmediateChild(d,p)}),yp(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const u=Ln(i.visibleWrites,t);return yp(u).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function gC(i,t,r,o,l){z(o||l,"Either existingEventSnap or existingServerSnap must exist");const u=Be(t,r);if(Mu(i.visibleWrites,u))return null;{const d=Ln(i.visibleWrites,u);return Fu(d)?l.getChild(r):jr(d,l.getChild(r))}}function _C(i,t,r,o){const l=Be(t,r),u=lr(i.visibleWrites,l);if(u!=null)return u;if(o.isCompleteForChild(r)){const d=Ln(i.visibleWrites,l);return jr(d,o.getNode().getImmediateChild(r))}else return null}function vC(i,t){return lr(i.visibleWrites,t)}function yC(i,t,r,o,l,u,d){let h;const p=Ln(i.visibleWrites,t),g=lr(p,de());if(g!=null)h=g;else if(r!=null)h=jr(p,r);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const w=[],v=d.getCompare(),y=u?h.getReverseIteratorFrom(o,d):h.getIteratorFrom(o,d);let T=y.getNext();for(;T&&w.length<l;)v(T,o)!==0&&w.push(T),T=y.getNext();return w}else return[]}function wC(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function jo(i,t,r,o){return Xm(i.writeTree,i.treePath,t,r,o)}function uc(i,t){return mC(i.writeTree,i.treePath,t)}function wp(i,t,r,o){return gC(i.writeTree,i.treePath,t,r,o)}function Wo(i,t){return vC(i.writeTree,Be(i.treePath,t))}function EC(i,t,r,o,l,u){return yC(i.writeTree,i.treePath,t,r,o,l,u)}function cc(i,t,r){return _C(i.writeTree,i.treePath,t,r)}function Jm(i,t){return Zm(Be(i.treePath,t),i.writeTree)}function Zm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;z(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),z(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(o,Zi(o,t.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(o,Ji(o,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(o,Br(o,t.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(o,Zi(o,t.snapshotNode,l.oldSnap));else throw Hr("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const eg=new SC;class dc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),u=EC(this.writes_,l,r,1,o,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i){return{filter:i}}function IC(i,t){z(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function xC(i,t,r,o,l){const u=new CC;let d,h;if(r.type===zt.OVERWRITE){const g=r;g.source.fromUser?d=zu(i,t,g.path,g.snap,o,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!oe(g.path),d=$o(i,t,g.path,g.snap,o,l,h,u))}else if(r.type===zt.MERGE){const g=r;g.source.fromUser?d=RC(i,t,g.path,g.children,o,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),d=bu(i,t,g.path,g.children,o,l,h,u))}else if(r.type===zt.ACK_USER_WRITE){const g=r;g.revert?d=DC(i,t,g.path,o,l,u):d=NC(i,t,g.path,g.affectedTree,o,l,u)}else if(r.type===zt.LISTEN_COMPLETE)d=PC(i,t,r.path,o,u);else throw Hr("Unknown operation type: "+r.type);const p=u.getChanges();return TC(t,d,p),{viewCache:d,changes:p}}function TC(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),u=Ou(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(u)||!o.getNode().getPriority().equals(u.getPriority()))&&r.push(Vm(Ou(t)))}}function tg(i,t,r,o,l,u){const d=t.eventCache;if(Wo(o,r)!=null)return t;{let h,p;if(oe(r))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=sr(t),w=g instanceof X?g:X.EMPTY_NODE,v=uc(o,w);h=i.filter.updateFullNode(t.eventCache.getNode(),v,u)}else{const g=jo(o,sr(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=ne(r);if(g===".priority"){z(Mn(r)===1,"Can't have a priority with additional path components");const w=d.getNode();p=t.serverCache.getNode();const v=wp(o,r,w,p);v!=null?h=i.filter.updatePriority(w,v):h=d.getNode()}else{const w=ye(r);let v;if(d.isCompleteForChild(g)){p=t.serverCache.getNode();const y=wp(o,r,d.getNode(),p);y!=null?v=d.getNode().getImmediateChild(g).updateChild(w,y):v=d.getNode().getImmediateChild(g)}else v=cc(o,g,t.serverCache);v!=null?h=i.filter.updateChild(d.getNode(),g,v,w,l,u):h=d.getNode()}}return Hi(t,h,d.isFullyInitialized()||oe(r),i.filter.filtersNodes())}}function $o(i,t,r,o,l,u,d,h){const p=t.serverCache;let g;const w=d?i.filter:i.filter.getIndexedFilter();if(oe(r))g=w.updateFullNode(p.getNode(),o,null);else if(w.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(r,o);g=w.updateFullNode(p.getNode(),T,null)}else{const T=ne(r);if(!p.isCompleteForPath(r)&&Mn(r)>1)return t;const R=ye(r),O=p.getNode().getImmediateChild(T).updateChild(R,o);T===".priority"?g=w.updatePriority(p.getNode(),O):g=w.updateChild(p.getNode(),T,O,R,eg,null)}const v=Km(t,g,p.isFullyInitialized()||oe(r),w.filtersNodes()),y=new dc(l,v,u);return tg(i,v,r,l,y,h)}function zu(i,t,r,o,l,u,d){const h=t.eventCache;let p,g;const w=new dc(l,t,u);if(oe(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),p=Hi(t,g,!0,i.filter.filtersNodes());else{const v=ne(r);if(v===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),p=Hi(t,g,h.isFullyInitialized(),h.isFiltered());else{const y=ye(r),T=h.getNode().getImmediateChild(v);let R;if(oe(y))R=o;else{const P=w.getCompleteChild(v);P!=null?Fm(y)===".priority"&&P.getChild(bm(y)).isEmpty()?R=P:R=P.updateChild(y,o):R=X.EMPTY_NODE}if(T.equals(R))p=t;else{const P=i.filter.updateChild(h.getNode(),v,R,y,w,d);p=Hi(t,P,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function Ep(i,t){return i.eventCache.isCompleteForChild(t)}function RC(i,t,r,o,l,u,d){let h=t;return o.foreach((p,g)=>{const w=Be(r,p);Ep(t,ne(w))&&(h=zu(i,h,w,g,l,u,d))}),o.foreach((p,g)=>{const w=Be(r,p);Ep(t,ne(w))||(h=zu(i,h,w,g,l,u,d))}),h}function Cp(i,t,r){return r.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function bu(i,t,r,o,l,u,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;oe(r)?g=o:g=new Ce(null).setTree(r,o);const w=t.serverCache.getNode();return g.children.inorderTraversal((v,y)=>{if(w.hasChild(v)){const T=t.serverCache.getNode().getImmediateChild(v),R=Cp(i,T,y);p=$o(i,p,new pe(v),R,l,u,d,h)}}),g.children.inorderTraversal((v,y)=>{const T=!t.serverCache.isCompleteForChild(v)&&y.value===null;if(!w.hasChild(v)&&!T){const R=t.serverCache.getNode().getImmediateChild(v),P=Cp(i,R,y);p=$o(i,p,new pe(v),P,l,u,d,h)}}),p}function NC(i,t,r,o,l,u,d){if(Wo(l,r)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(o.value!=null){if(oe(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return $o(i,t,r,p.getNode().getChild(r),l,u,h,d);if(oe(r)){let g=new Ce(null);return p.getNode().forEachChild(Fr,(w,v)=>{g=g.set(new pe(w),v)}),bu(i,t,r,g,l,u,h,d)}else return t}else{let g=new Ce(null);return o.foreach((w,v)=>{const y=Be(r,w);p.isCompleteForPath(y)&&(g=g.set(w,p.getNode().getChild(y)))}),bu(i,t,r,g,l,u,h,d)}}function PC(i,t,r,o,l){const u=t.serverCache,d=Km(t,u.getNode(),u.isFullyInitialized()||oe(r),u.isFiltered());return tg(i,d,r,o,eg,l)}function DC(i,t,r,o,l,u){let d;if(Wo(o,r)!=null)return t;{const h=new dc(o,t,l),p=t.eventCache.getNode();let g;if(oe(r)||ne(r)===".priority"){let w;if(t.serverCache.isFullyInitialized())w=jo(o,sr(t));else{const v=t.serverCache.getNode();z(v instanceof X,"serverChildren would be complete if leaf node"),w=uc(o,v)}w=w,g=i.filter.updateFullNode(p,w,u)}else{const w=ne(r);let v=cc(o,w,t.serverCache);v==null&&t.serverCache.isCompleteForChild(w)&&(v=p.getImmediateChild(w)),v!=null?g=i.filter.updateChild(p,w,v,ye(r),h,u):t.eventCache.getNode().hasChild(w)?g=i.filter.updateChild(p,w,X.EMPTY_NODE,ye(r),h,u):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=jo(o,sr(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=t.serverCache.isFullyInitialized()||Wo(o,de())!=null,Hi(t,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new ic(o.getIndex()),u=XE(o);this.processor_=kC(u);const d=r.serverCache,h=r.eventCache,p=l.updateFullNode(X.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(X.EMPTY_NODE,h.getNode(),null),w=new ir(p,d.isFullyInitialized(),l.filtersNodes()),v=new ir(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Zo(v,w),this.eventGenerator_=new iC(this.query_)}get query(){return this.query_}}function LC(i){return i.viewCache_.serverCache.getNode()}function OC(i,t){const r=sr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!oe(t)&&!r.getImmediateChild(ne(t)).isEmpty())?r.getChild(t):null}function Sp(i){return i.eventRegistrations_.length===0}function MC(i,t){i.eventRegistrations_.push(t)}function kp(i,t,r){const o=[];if(r){z(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(r,l);d&&o.push(d)})}if(t){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(t))l.push(d);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Ip(i,t,r,o){t.type===zt.MERGE&&t.source.queryId!==null&&(z(sr(i.viewCache_),"We should always have a full cache before handling merges"),z(Ou(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=xC(i.processor_,l,t,r,o);return IC(i.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,ng(i,u.changes,u.viewCache.eventCache.getNode(),null)}function FC(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Le,(u,d)=>{o.push(Br(u,d))}),r.isFullyInitialized()&&o.push(Vm(r.getNode())),ng(i,o,r.getNode(),t)}function ng(i,t,r,o){const l=o?[o]:i.eventRegistrations_;return sC(i.eventGenerator_,t,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class zC{constructor(){this.views=new Map}}function bC(i){z(!Ho,"__referenceConstructor has already been defined"),Ho=i}function UC(){return z(Ho,"Reference.ts has not been loaded"),Ho}function BC(i){return i.views.size===0}function fc(i,t,r,o){const l=t.source.queryId;if(l!==null){const u=i.views.get(l);return z(u!=null,"SyncTree gave us an op for an invalid query."),Ip(u,t,r,o)}else{let u=[];for(const d of i.views.values())u=u.concat(Ip(d,t,r,o));return u}}function jC(i,t,r,o,l){const u=t._queryIdentifier,d=i.views.get(u);if(!d){let h=jo(r,l?o:null),p=!1;h?p=!0:o instanceof X?(h=uc(r,o),p=!1):(h=X.EMPTY_NODE,p=!1);const g=Zo(new ir(h,p,!1),new ir(o,l,!1));return new AC(t,g)}return d}function WC(i,t,r,o,l,u){const d=jC(i,t,o,l,u);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,d),MC(d,r),FC(d,r)}function $C(i,t,r,o){const l=t._queryIdentifier,u=[];let d=[];const h=Fn(i);if(l==="default")for(const[p,g]of i.views.entries())d=d.concat(kp(g,r,o)),Sp(g)&&(i.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=i.views.get(l);p&&(d=d.concat(kp(p,r,o)),Sp(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Fn(i)&&u.push(new(UC())(t._repo,t._path)),{removed:u,events:d}}function rg(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function zr(i,t){let r=null;for(const o of i.views.values())r=r||OC(o,t);return r}function ig(i,t){if(t._queryParams.loadsAllData())return el(i);{const o=t._queryIdentifier;return i.views.get(o)}}function sg(i,t){return ig(i,t)!=null}function Fn(i){return el(i)!=null}function el(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;function HC(i){z(!Vo,"__referenceConstructor has already been defined"),Vo=i}function VC(){return z(Vo,"Reference.ts has not been loaded"),Vo}let QC=1;class xp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=wC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function og(i,t,r,o,l){return uC(i.pendingWriteTree_,t,r,o,l),l?cs(i,new rr(Gm(),t,r)):[]}function tr(i,t,r=!1){const o=cC(i.pendingWriteTree_,t);if(dC(i.pendingWriteTree_,t)){let u=new Ce(null);return o.snap!=null?u=u.set(de(),!0):pt(o.children,d=>{u=u.set(new pe(d),!0)}),cs(i,new Bo(o.path,u,r))}else return[]}function tl(i,t,r){return cs(i,new rr(oc(),t,r))}function GC(i,t,r){const o=Ce.fromObject(r);return cs(i,new ns(oc(),t,o))}function KC(i,t){return cs(i,new ts(oc(),t))}function YC(i,t,r){const o=pc(i,r);if(o){const l=mc(o),u=l.path,d=l.queryId,h=dt(u,t),p=new ts(lc(d),h);return gc(i,u,p)}else return[]}function Uu(i,t,r,o,l=!1){const u=t._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(t._queryIdentifier==="default"||sg(d,t))){const p=$C(d,t,r,o);BC(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=p.removed;if(h=p.events,!l){const w=g.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(y,T)=>Fn(T));if(w&&!v){const y=i.syncPointTree_.subtree(u);if(!y.isEmpty()){const T=JC(y);for(let R=0;R<T.length;++R){const P=T[R],O=P.query,b=ug(i,P);i.listenProvider_.startListening(Qi(O),Qo(i,O),b.hashFn,b.onComplete)}}}!v&&g.length>0&&!o&&(w?i.listenProvider_.stopListening(Qi(t),null):g.forEach(y=>{const T=i.queryToTagMap.get(nl(y));i.listenProvider_.stopListening(Qi(y),T)}))}ZC(i,g)}return h}function qC(i,t,r,o){const l=pc(i,o);if(l!=null){const u=mc(l),d=u.path,h=u.queryId,p=dt(d,t),g=new rr(lc(h),p,r);return gc(i,d,g)}else return[]}function XC(i,t,r,o){const l=pc(i,o);if(l){const u=mc(l),d=u.path,h=u.queryId,p=dt(d,t),g=Ce.fromObject(r),w=new ns(lc(h),p,g);return gc(i,d,w)}else return[]}function Tp(i,t,r,o=!1){const l=t._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(y,T)=>{const R=dt(y,l);u=u||zr(T,R),d=d||Fn(T)});let h=i.syncPointTree_.get(l);h?(d=d||Fn(h),u=u||zr(h,de())):(h=new zC,i.syncPointTree_=i.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=X.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((T,R)=>{const P=zr(R,de());P&&(u=u.updateImmediateChild(T,P))}));const g=sg(h,t);if(!g&&!t._queryParams.loadsAllData()){const y=nl(t);z(!i.queryToTagMap.has(y),"View does not exist, but we have a tag");const T=eS();i.queryToTagMap.set(y,T),i.tagToQueryMap.set(T,y)}const w=ac(i.pendingWriteTree_,l);let v=WC(h,t,r,w,u,p);if(!g&&!d&&!o){const y=ig(h,t);v=v.concat(tS(i,t,y))}return v}function hc(i,t,r){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(t,(d,h)=>{const p=dt(d,t),g=zr(h,p);if(g)return g});return Xm(l,t,u,r,!0)}function cs(i,t){return lg(t,i.syncPointTree_,null,ac(i.pendingWriteTree_,de()))}function lg(i,t,r,o){if(oe(i.path))return ag(i,t,r,o);{const l=t.get(de());r==null&&l!=null&&(r=zr(l,de()));let u=[];const d=ne(i.path),h=i.operationForChild(d),p=t.children.get(d);if(p&&h){const g=r?r.getImmediateChild(d):null,w=Jm(o,d);u=u.concat(lg(h,p,g,w))}return l&&(u=u.concat(fc(l,i,o,r))),u}}function ag(i,t,r,o){const l=t.get(de());r==null&&l!=null&&(r=zr(l,de()));let u=[];return t.children.inorderTraversal((d,h)=>{const p=r?r.getImmediateChild(d):null,g=Jm(o,d),w=i.operationForChild(d);w&&(u=u.concat(ag(w,h,p,g)))}),l&&(u=u.concat(fc(l,i,o,r))),u}function ug(i,t){const r=t.query,o=Qo(i,r);return{hashFn:()=>(LC(t)||X.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?YC(i,r._path,o):KC(i,r._path);{const u=qw(l,r);return Uu(i,r,null,u)}}}}function Qo(i,t){const r=nl(t);return i.queryToTagMap.get(r)}function nl(i){return i._path.toString()+"$"+i._queryIdentifier}function pc(i,t){return i.tagToQueryMap.get(t)}function mc(i){const t=i.indexOf("$");return z(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new pe(i.substr(0,t))}}function gc(i,t,r){const o=i.syncPointTree_.get(t);z(o,"Missing sync point for query tag that we're tracking");const l=ac(i.pendingWriteTree_,t);return fc(o,r,l,null)}function JC(i){return i.fold((t,r,o)=>{if(r&&Fn(r))return[el(r)];{let l=[];return r&&(l=rg(r)),pt(o,(u,d)=>{l=l.concat(d)}),l}})}function Qi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(VC())(i._repo,i._path):i}function ZC(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const l=nl(o),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function eS(){return QC++}function tS(i,t,r){const o=t._path,l=Qo(i,t),u=ug(i,r),d=i.listenProvider_.startListening(Qi(t),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(o);if(l)z(!Fn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,w,v)=>{if(!oe(g)&&w&&Fn(w))return[el(w).query];{let y=[];return w&&(y=y.concat(rg(w).map(T=>T.query))),pt(v,(T,R)=>{y=y.concat(R)}),y}});for(let g=0;g<p.length;++g){const w=p[g];i.listenProvider_.stopListening(Qi(w),Qo(i,w))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new _c(r)}node(){return this.node_}}class vc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Be(this.path_,t);return new vc(this.syncTree_,r)}node(){return hc(this.syncTree_,this.path_)}}const nS=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Rp=function(i,t,r){if(!i||typeof i!="object")return i;if(z(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return rS(i[".sv"],t,r);if(typeof i[".sv"]=="object")return iS(i[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},rS=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:z(!1,"Unexpected server value: "+i)}},iS=function(i,t,r){i.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&z(!1,"Unexpected increment value: "+o);const l=t.node();if(z(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const d=l.getValue();return typeof d!="number"?o:d+o},sS=function(i,t,r,o){return yc(t,new vc(r,i),o)},cg=function(i,t,r){return yc(i,new _c(t),r)};function yc(i,t,r){const o=i.getPriority().val(),l=Rp(o,t.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const d=i,h=Rp(d.getValue(),t,r);return h!==d.getValue()||l!==d.getPriority().val()?new Ve(h,qe(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new Ve(l))),d.forEachChild(Le,(h,p)=>{const g=yc(p,t.getImmediateChild(h),r);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Ec(i,t){let r=t instanceof pe?t:new pe(t),o=i,l=ne(r);for(;l!==null;){const u=br(o.node.children,l)||{children:{},childCount:0};o=new wc(l,o,u),r=ye(r),l=ne(r)}return o}function Kr(i){return i.node.value}function dg(i,t){i.node.value=t,Bu(i)}function fg(i){return i.node.childCount>0}function oS(i){return Kr(i)===void 0&&!fg(i)}function rl(i,t){pt(i.node.children,(r,o)=>{t(new wc(r,i,o))})}function hg(i,t,r,o){r&&!o&&t(i),rl(i,l=>{hg(l,t,!0,o)})}function lS(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ds(i){return new pe(i.parent===null?i.name:ds(i.parent)+"/"+i.name)}function Bu(i){i.parent!==null&&aS(i.parent,i.name,i)}function aS(i,t,r){const o=oS(r),l=dn(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,Bu(i)):!o&&!l&&(i.node.children[t]=r.node,i.node.childCount++,Bu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=/[\[\].#$\/\u0000-\u001F\u007F]/,cS=/[\[\].#$\u0000-\u001F\u007F]/,mu=10*1024*1024,pg=function(i){return typeof i=="string"&&i.length!==0&&!uS.test(i)},mg=function(i){return typeof i=="string"&&i.length!==0&&!cS.test(i)},dS=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),mg(i)},gg=function(i,t,r,o){o&&t===void 0||Cc(Yu(i,"value"),t,r)},Cc=function(i,t,r){const o=r instanceof pe?new NE(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Zn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Zn(o)+" with contents = "+t.toString());if(mm(t))throw new Error(i+"contains "+t.toString()+" "+Zn(o));if(typeof t=="string"&&t.length>mu/3&&Xo(t)>mu)throw new Error(i+"contains a string greater than "+mu+" utf8 bytes "+Zn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,u=!1;if(pt(t,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!pg(d)))throw new Error(i+" contains an invalid key ("+d+") "+Zn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PE(o,d),Cc(i,h,o),DE(o)}),l&&u)throw new Error(i+' contains ".value" child '+Zn(o)+" in addition to actual children.")}},_g=function(i,t,r,o){if(!mg(r))throw new Error(Yu(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fS=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),_g(i,t,r)},vg=function(i,t){if(ne(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},hS=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!pg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!dS(r))throw new Error(Yu(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sc(i,t){let r=null;for(let o=0;o<t.length;o++){const l=t[o],u=l.getPath();r!==null&&!tc(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&i.eventLists_.push(r)}function yg(i,t,r){Sc(i,r),wg(i,o=>tc(o,t))}function un(i,t,r){Sc(i,r),wg(i,o=>Ft(o,t)||Ft(t,o))}function wg(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const u=l.path;t(u)?(mS(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function mS(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Wi&&tt("event: "+r.toString()),Gr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="repo_interrupt",_S=25;class vS{constructor(t,r,o,l){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uo(),this.transactionQueueTree_=new wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yS(i,t,r){if(i.stats_=Zu(i.repoInfo_),i.forceRestClient_||eE())i.server_=new bo(i.repoInfo_,(o,l,u,d)=>{Np(i,o,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Pp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new on(i.repoInfo_,t,(o,l,u,d)=>{Np(i,o,l,u,d)},o=>{Pp(i,o)},o=>{wS(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=sE(i.repoInfo_,()=>new rC(i.stats_,i.server_)),i.infoData_=new JE,i.infoSyncTree_=new xp({startListening:(o,l,u,d)=>{let h=[];const p=i.infoData_.getNode(o._path);return p.isEmpty()||(h=tl(i.infoSyncTree_,o._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Ic(i,"connected",!1),i.serverSyncTree_=new xp({startListening:(o,l,u,d)=>(i.server_.listen(o,u,l,(h,p)=>{const g=d(h,p);un(i.eventQueue_,o._path,g)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function Eg(i){const r=i.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function kc(i){return nS({timestamp:Eg(i)})}function Np(i,t,r,o,l){i.dataUpdateCount++;const u=new pe(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(l)if(o){const p=Ao(r,g=>qe(g));d=XC(i.serverSyncTree_,u,p,l)}else{const p=qe(r);d=qC(i.serverSyncTree_,u,p,l)}else if(o){const p=Ao(r,g=>qe(g));d=GC(i.serverSyncTree_,u,p)}else{const p=qe(r);d=tl(i.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=il(i,u)),un(i.eventQueue_,h,d)}function Pp(i,t){Ic(i,"connected",t),t===!1&&CS(i)}function wS(i,t){pt(t,(r,o)=>{Ic(i,r,o)})}function Ic(i,t,r){const o=new pe("/.info/"+t),l=qe(r);i.infoData_.updateSnapshot(o,l);const u=tl(i.infoSyncTree_,o,l);un(i.eventQueue_,o,u)}function Cg(i){return i.nextWriteId_++}function ES(i,t,r,o,l){xc(i,"set",{path:t.toString(),value:r,priority:o});const u=kc(i),d=qe(r,o),h=hc(i.serverSyncTree_,t),p=cg(d,h,u),g=Cg(i),w=og(i.serverSyncTree_,t,p,g,!0);Sc(i.eventQueue_,w),i.server_.put(t.toString(),d.val(!0),(y,T)=>{const R=y==="ok";R||ht("set at "+t+" failed: "+y);const P=tr(i.serverSyncTree_,g,!R);un(i.eventQueue_,t,P),xS(i,l,y,T)});const v=Tg(i,t);il(i,v),un(i.eventQueue_,v,[])}function CS(i){xc(i,"onDisconnectEvents");const t=kc(i),r=Uo();Lu(i.onDisconnect_,de(),(l,u)=>{const d=sS(l,u,i.serverSyncTree_,t);Qm(r,l,d)});let o=[];Lu(r,de(),(l,u)=>{o=o.concat(tl(i.serverSyncTree_,l,u));const d=Tg(i,l);il(i,d)}),i.onDisconnect_=Uo(),un(i.eventQueue_,de(),o)}function SS(i,t,r){let o;ne(t._path)===".info"?o=Tp(i.infoSyncTree_,t,r):o=Tp(i.serverSyncTree_,t,r),yg(i.eventQueue_,t._path,o)}function kS(i,t,r){let o;ne(t._path)===".info"?o=Uu(i.infoSyncTree_,t,r):o=Uu(i.serverSyncTree_,t,r),yg(i.eventQueue_,t._path,o)}function IS(i){i.persistentConnection_&&i.persistentConnection_.interrupt(gS)}function xc(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),tt(r,...t)}function xS(i,t,r,o){t&&Gr(()=>{if(r==="ok")t(null);else{const l=(r||"error").toUpperCase();let u=l;o&&(u+=": "+o);const d=new Error(u);d.code=l,t(d)}})}function Sg(i,t,r){return hc(i.serverSyncTree_,t,r)||X.EMPTY_NODE}function Tc(i,t=i.transactionQueueTree_){if(t||sl(i,t),Kr(t)){const r=Ig(i,t);z(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&TS(i,ds(t),r)}else fg(t)&&rl(t,r=>{Tc(i,r)})}function TS(i,t,r){const o=r.map(g=>g.currentWriteId),l=Sg(i,t,o);let u=l;const d=l.hash();for(let g=0;g<r.length;g++){const w=r[g];z(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const v=dt(t,w.path);u=u.updateChild(v,w.currentOutputSnapshotRaw)}const h=u.val(!0),p=t;i.server_.put(p.toString(),h,g=>{xc(i,"transaction put response",{path:p.toString(),status:g});let w=[];if(g==="ok"){const v=[];for(let y=0;y<r.length;y++)r[y].status=2,w=w.concat(tr(i.serverSyncTree_,r[y].currentWriteId)),r[y].onComplete&&v.push(()=>r[y].onComplete(null,!0,r[y].currentOutputSnapshotResolved)),r[y].unwatcher();sl(i,Ec(i.transactionQueueTree_,t)),Tc(i,i.transactionQueueTree_),un(i.eventQueue_,t,w);for(let y=0;y<v.length;y++)Gr(v[y])}else{if(g==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{ht("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=g}il(i,t)}},d)}function il(i,t){const r=kg(i,t),o=ds(r),l=Ig(i,r);return RS(i,l,o),o}function RS(i,t,r){if(t.length===0)return;const o=[];let l=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=dt(r,p.path);let w=!1,v;if(z(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)w=!0,v=p.abortReason,l=l.concat(tr(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=_S)w=!0,v="maxretry",l=l.concat(tr(i.serverSyncTree_,p.currentWriteId,!0));else{const y=Sg(i,p.path,d);p.currentInputSnapshot=y;const T=t[h].update(y.val());if(T!==void 0){Cc("transaction failed: Data returned ",T,p.path);let R=qe(T);typeof T=="object"&&T!=null&&dn(T,".priority")||(R=R.updatePriority(y.getPriority()));const O=p.currentWriteId,b=kc(i),U=cg(R,y,b);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=U,p.currentWriteId=Cg(i),d.splice(d.indexOf(O),1),l=l.concat(og(i.serverSyncTree_,p.path,U,p.currentWriteId,p.applyLocally)),l=l.concat(tr(i.serverSyncTree_,O,!0))}else w=!0,v="nodata",l=l.concat(tr(i.serverSyncTree_,p.currentWriteId,!0))}un(i.eventQueue_,r,l),l=[],w&&(t[h].status=2,function(y){setTimeout(y,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(v==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(v),!1,null))))}sl(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)Gr(o[h]);Tc(i,i.transactionQueueTree_)}function kg(i,t){let r,o=i.transactionQueueTree_;for(r=ne(t);r!==null&&Kr(o)===void 0;)o=Ec(o,r),t=ye(t),r=ne(t);return o}function Ig(i,t){const r=[];return xg(i,t,r),r.sort((o,l)=>o.order-l.order),r}function xg(i,t,r){const o=Kr(t);if(o)for(let l=0;l<o.length;l++)r.push(o[l]);rl(t,l=>{xg(i,l,r)})}function sl(i,t){const r=Kr(t);if(r){let o=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[o]=r[l],o++);r.length=o,dg(t,r.length>0?r:void 0)}rl(t,o=>{sl(i,o)})}function Tg(i,t){const r=ds(kg(i,t)),o=Ec(i.transactionQueueTree_,t);return lS(o,l=>{gu(i,l)}),gu(i,o),hg(o,l=>{gu(i,l)}),r}function gu(i,t){const r=Kr(t);if(r){const o=[];let l=[],u=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(z(u===d-1,"All SENT items should be at beginning of queue."),u=d,r[d].status=3,r[d].abortReason="set"):(z(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),l=l.concat(tr(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?dg(t,void 0):r.length=u+1,un(i.eventQueue_,ds(t),l);for(let d=0;d<o.length;d++)Gr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let l=r[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function PS(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ht(`Invalid query segment '${r}' in query '${i}'`)}return t}const Dp=function(i,t){const r=DS(i),o=r.namespace;r.domain==="firebase.com"&&an(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Vw();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Tm(r.host,r.secure,o,l,t,"",o!==r.subdomain),path:new pe(r.pathString)}},DS=function(i){let t="",r="",o="",l="",u="",d=!0,h="https",p=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");w===-1&&(w=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),t=i.substring(0,Math.min(w,v)),w<v&&(l=NS(i.substring(w,v)));const y=PS(i.substring(Math.min(i.length,v)));g=t.indexOf(":"),g>=0?(d=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const T=t.slice(0,g);if(T.toLowerCase()==="localhost")r="localhost";else if(T.split(".").length<=2)r=T;else{const R=t.indexOf(".");o=t.substring(0,R).toLowerCase(),r=t.substring(R+1),u=o}"ns"in y&&(u=y.ns)}return{host:t,port:p,domain:r,subdomain:o,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",AS=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Ap.charAt(r%64),r=Math.floor(r/64);z(r===0,"Cannot push at time == 0");let d=u.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=Ap.charAt(t[l]);return z(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,r,o,l){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ge(this.snapshot.exportVal())}}class OS{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,r,o,l){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=l}get key(){return oe(this._path)?null:Fm(this._path)}get ref(){return new bn(this._repo,this._path)}get _queryIdentifier(){const t=mp(this._queryParams),r=Xu(t);return r==="{}"?"default":r}get _queryObject(){return mp(this._queryParams)}isEqual(t){if(t=Vr(t),!(t instanceof Rc))return!1;const r=this._repo===t._repo,o=tc(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return r&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+RE(this._path)}}class bn extends Rc{constructor(t,r){super(t,r,new sc,!1)}get parent(){const t=bm(this._path);return t===null?null:new bn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Go{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new pe(t),o=Wr(this.ref,t);return new Go(this._node.getChild(r),o,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new Go(l,Wr(this.ref,o),Le)))}hasChild(t){const r=new pe(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _u(i,t){return i=Vr(i),i._checkNotDeleted("ref"),t!==void 0?Wr(i._root,t):i._root}function Wr(i,t){return i=Vr(i),ne(i._path)===null?fS("child","path",t):_g("child","path",t),new bn(i._repo,Be(i._path,t))}function FS(i,t){i=Vr(i),vg("push",i._path),gg("push",t,i._path,!0);const r=Eg(i._repo),o=AS(r),l=Wr(i,o),u=Wr(i,o);let d;return d=Promise.resolve(u),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function zS(i,t){i=Vr(i),vg("set",i._path),gg("set",t,i._path,!1);const r=new qo;return ES(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}class Nc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new LS("value",this,new Go(t.snapshotNode,new bn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new OS(this,t,r):null}matches(t){return t instanceof Nc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bS(i,t,r,o,l){const u=new MS(r,void 0),d=new Nc(u);return SS(i._repo,i,d),()=>kS(i._repo,i,d)}function US(i,t,r,o){return bS(i,"value",t)}bC(bn);HC(bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="FIREBASE_DATABASE_EMULATOR_HOST",ju={};let jS=!1;function WS(i,t,r,o){i.repoInfo_=new Tm(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function $S(i,t,r,o,l){let u=o||i.options.databaseURL;u===void 0&&(i.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Dp(u,l),h=d.repoInfo,p;typeof process<"u"&&Xh&&(p=Xh[BS]),p?(u=`http://${p}?ns=${h.namespace}`,d=Dp(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new nE(i.name,i.options,t);hS("Invalid Firebase Database URL",d),oe(d.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const w=VS(h,i,g,new tE(i.name,r));return new QS(w,i)}function HS(i,t){const r=ju[t];(!r||r[i.key]!==i)&&an(`Database ${t}(${i.repoInfo_}) has already been deleted.`),IS(i),delete r[i.key]}function VS(i,t,r,o){let l=ju[t.name];l||(l={},ju[t.name]=l);let u=l[i.toURLString()];return u&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new vS(i,jS,r,o),l[i.toURLString()]=u,u}class QS{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&an("Cannot call "+t+" on a deleted database.")}}function GS(i=Tw(),t){const r=Sw(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=h0("database");o&&KS(r,...o)}return r}function KS(i,t,r,o={}){i=Vr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new No(No.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:p0(o.mockUserToken,i.app.options.projectId);u=new No(d)}WS(l,t,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(i){Uw(xw),Oo(new Yi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return $S(o,l,u,r)},"PUBLIC").setMultipleInstances(!0)),Or(Jh,Zh,i),Or(Jh,Zh,"esm2017")}on.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};on.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};YS();const qS={apiKey:"AIzaSyANV_ogkX5emU45HwQuG2EDtQklixkjFfY",authDomain:"myreactapp-47671.firebaseapp.com",projectId:"myreactapp-47671",storageBucket:"myreactapp-47671.firebasestorage.app",messagingSenderId:"436337717875",appId:"1:436337717875:web:5ebe25663307d7b3c0b006",databaseURL:"https://myreactapp-47671-default-rtdb.asia-southeast1.firebasedatabase.app/"},XS=um(qS),vu=GS(XS),JS=i=>{console.log("scrollTop 호출됨"),i.scrollTop=i.scrollHeight},ZS=()=>{let i=new Date;var t=("0"+(1+i.getMonth())).slice(-2),r=("0"+i.getDate()).slice(-2),o=("0"+i.getHours()).slice(-2),l=("0"+i.getMinutes()).slice(-2);return t+"-"+r+" "+o+":"+l};function e1(){const[i,t]=Xy(),r=i.get("roomId"),o=i.get("userId"),l=N.useRef(),[u,d]=N.useState("");function h(g,w,v){const y=FS(Wr(_u(vu),"tempValue")).key;zS(_u(vu,g+"/"+y),{id:w,message:v,date:ZS()}),console.log("입력 성공")}const p=_u(vu,r);return N.useEffect(()=>{console.log("jey",l.current),US(p,g=>{let w=[];g.forEach(v=>{console.log("childSnapshot-key : ",v.key),console.log("childSnapshot-val : ",v.val());const y=v.key,T=v.val();console.log("리스너",y,T.id,o),T.id===o?w.push(Y.jsxs("div",{className:"d-flex flex-row justify-content-end mb-4 pt-1",children:[Y.jsxs("div",{children:[Y.jsx("p",{className:"small p-2 me-3 mb-1 text-white rounded-3 bg-primary",children:T.message}),Y.jsx("p",{children:T.date})]}),Y.jsx("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava4-bg.webp",alt:"avatar 1",style:{width:"50px",height:"50px"}})]})):w.push(Y.jsxs("div",{className:"d-flex flex-row justify-content-start",children:[T.id,Y.jsx("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3-bg.webp",alt:"avatar 1",style:{width:"50px",height:"50px"}}),Y.jsxs("div",{children:[Y.jsx("p",{className:"small p-2 ms-3 mb-1 rounded-3 bg-body-tertiary",style:{textAlign:"right"},children:T.message}),Y.jsx("p",{children:T.date})]})]}))}),d(w),setTimeout(()=>{JS(l.current)},100)})},[]),Y.jsx(Y.Fragment,{children:Y.jsx("section",{children:Y.jsx("div",{className:"container py-5",children:Y.jsx("div",{className:"row d-flex justify-content-center",children:Y.jsx("div",{className:"col-md-10 col-lg-8 col-xl-6",children:Y.jsxs("div",{className:"card",id:"chat2",children:[Y.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center p-3",children:[Y.jsx("h5",{className:"mb-0",children:"Realtime 채팅"}),Y.jsxs("button",{"data-mdb-button-init":!0,"data-mdb-ripple-init":!0,className:"btn btn-primary btn-sm","data-mdb-ripple-color":"dark",id:"closeBtn",onClick:()=>{window.self.close()},children:["채팅종료"," "]})]}),Y.jsx("div",{className:"divider d-flex align-items-center mb-4",children:Y.jsx("p",{className:"text-center mx-3 mb-0",style:{color:"#a2aab7;"},children:"Today"})}),Y.jsx("div",{className:"card-body","data-mdb-perfect-scrollbar-init":!0,style:{position:"relative",height:"400px",overflow:"auto"},id:"chatWindow",ref:l,children:u}),Y.jsxs("div",{className:"card-footer text-muted d-flex justify-content-start align-items-center p-3",children:[Y.jsx("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava4-bg.webp",alt:"avatar 3",style:{width:"40px",height:"50%;"}}),Y.jsxs("form",{onSubmit:g=>{g.preventDefault();let w=g.target.chatRoom.value,v=g.target.chatId.value;if(v===""){alert("대화명을 입력하세요");return}let y=g.target.message.value;if(y==""){alert("메시지를 입력하세요");return}console.log("submit",w,v,y),h(w,v,y),g.target.message.value=""},children:[Y.jsx("input",{type:"hidden",name:"chatRoom",value:r}),Y.jsx("input",{type:"hidden",name:"chatId",value:o}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("input",{type:"text",name:"message",className:"form-control form-control-lg",id:"exampleFormControlInput1",placeholder:"메시지를 입력하세요"}),Y.jsx("button",{className:"hs-3",type:"submit",children:Y.jsx("i",{className:"fas fa-paper-plane"})})]})]})]})]})})})})})})}function t1(){return Y.jsx(Qy,{children:Y.jsxs(Ey,{children:[Y.jsx(wu,{path:"/",element:Y.jsx(r0,{})}),Y.jsx(wu,{path:"talk",element:Y.jsx(e1,{})})]})})}Dv.createRoot(document.getElementById("root")).render(Y.jsx(t1,{}));
